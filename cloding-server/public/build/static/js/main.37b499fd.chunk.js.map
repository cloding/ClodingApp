{"version":3,"sources":["service/auth-service.js","components/signup/Signup.jsx","components/Login.js","components/home/Home.jsx","components/Profile.js","App.js","index.js"],"names":["authService","_this","this","Object","classCallCheck","signup","username","password","mail","country","region","city","direction","service","post","then","response","data","loggedin","get","login","logout","axios","create","baseURL","process","withCredentials","Signup","props","possibleConstructorReturn","getPrototypeOf","call","handleFormSubmit","event","preventDefault","state","user","console","log","setState","catch","error","handleChange","_event$target","target","name","value","objectSpread","defineProperty","AuthService","_this2","react_default","a","createElement","onSubmit","type","onChange","e","react_router_dom","to","Component","Login","logged","setUser","message","react_router","Home","Fragment","Profile","App","fetchUser","loggedInUser","x","setTheUser","userObj","exact","path","component","render","Signup_Signup","userInSession","components_Login","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.37b499fd.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default class authService {\n\n    constructor() {\n\n        this.service = axios.create({\n            baseURL: process.env.REACT_APP_URL,\n            withCredentials: true\n        })\n    }\n\n    signup = (username, password, mail, country, region, city, direction) => {\n        return this.service.post('/signup', { username, password, mail, country, region, city, direction })\n            .then(response => response.data)\n            // .catch(err => console.log(err.res.data))\n    }\n\n    loggedin = () => {\n        return this.service.get('/loggedin')\n            .then(response => response.data)\n    }\n\n    login = (username, password) => {\n        return this.service.post('/login', { username, password })\n            .then(response => response.data)\n    }\n\n    logout = () => {\n        return this.service.post('/logout', {})\n            .then(response => response.data)\n    }\n\n}","import React, { Component } from \"react\";\nimport AuthService from \"../../service/auth-service\";\nimport { Link } from 'react-router-dom';\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: {\n        username: \"\",\n        password: \"\",\n        mail: \"\",\n        country: \"\",\n        region: \"\",\n        city: \"\",\n        direction: \"\"\n      },\n    };\n\n    this.service = new AuthService();\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.user.username;\n    const password = this.state.user.password;\n    const mail = this.state.user.mail;\n    const country = this.state.user.country;\n    const region = this.state.user.region;\n    const city = this.state.user.city;\n    const direction = this.state.user.direction;\n\n    this.service.signup(username, password, mail, country, region, city, direction)\n      .then(response => {\n        console.log(response)\n        this.setState({\n          username: \"\",\n          password: \"\",\n          mail: \"\",\n          country: \"\",\n          region: \"\",\n          city: \"\",\n          direction: \"\"\n        });\n        // this.props.getUser(response)\n      })\n      .catch(error => console.log(error))\n  }\n\n\n  handleChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({ user: { ...this.state.user, [name]: value } });\n\n  };\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Username:</label>\n          <input type=\"text\" name=\"username\" value={this.state.username} onChange={e => this.handleChange(e)} />\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.handleChange(e)} />\n\n          <label>Email:</label>\n          <input type=\"email\" name=\"mail\" value={this.state.mail} onChange={e => this.handleChange(e)} />\n\n          <label>Coutry:</label>\n          <input type=\"text\" name=\"country\" value={this.state.country} onChange={e => this.handleChange(e)} />\n\n          <label>Region:</label>\n          <input type=\"text\" name=\"region\" value={this.state.region} onChange={e => this.handleChange(e)} />\n\n          <label>City:</label>\n          <input type=\"text\" name=\"city\" value={this.state.city} onChange={e => this.handleChange(e)} />\n\n          <label>Address:</label>\n          <input type=\"text\" name=\"direction\" value={this.state.direction} onChange={e => this.handleChange(e)} />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n\n        <p>Already have account?\n            <Link to={\"/login\"}> Login</Link>\n        </p>\n\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport AuthService from \"../service/auth-service\";\nimport { Link, Redirect } from 'react-router-dom';\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { username: '', password: '', logged: false, error: '' };\n        this.service = new AuthService();\n    }\n\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n        const username = this.state.username;\n        const password = this.state.password;\n        this.service.login(username, password)\n             .then(response => {            \n                 this.setState({ username: \"\", password: \"\", logged: true }, ()=> this.props.setUser(response));\n             })\n             .catch(error => {\n                console.log(error)\n                this.setState({ error: error.response.data.message});\n            })\n    }\n\n    handleChange = (event) => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n        // this.state.error = ''\n    }\n\n    render(){\n      if(this.state.logged) return <Redirect to={\"/profile\"}/>\n      return(\n        \n        <div>\n          <form onSubmit={this.handleFormSubmit}>\n            <label>Username:</label>\n            <input type=\"text\" name=\"username\" value={this.state.username} onChange={ e => this.handleChange(e)}/>\n\n            <label>Password:</label>\n            <input type=\"password\" name=\"password\" value={this.state.password} onChange={ e => this.handleChange(e)} />\n            \n            <input type=\"submit\" value=\"Login\" />\n          </form>\n          <p>Don't have account? \n              <Link to={\"/signup\"}> Signup</Link>\n          </p>\n        </div>\n      )\n    }\n}\n\nexport default Login;","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default class Home extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <Link to={\"/login\"}>Login</Link>\n                <Link to={\"/signup\"}>Sign up</Link>\n                <h1>Home</h1>\n            </React.Fragment>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default class Profile extends Component {\n  render() {\n    return (\n      <React.Fragment>\n         <h1>Private page</h1> \n      </React.Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport Signup from \"./components/signup/Signup\"\nimport Login from \"./components/Login\"\nimport { Switch, Route } from 'react-router-dom';\nimport authService from './service/auth-service';\nimport Home from './components/home/Home';\nimport Profile from './components/Profile';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { loggedInUser: null }\n    this.service = new authService()\n  }\n\n\n  fetchUser = () => {\n\n    this.service.loggedin()\n      .then(response => {\n        console.log(response)\n        this.setState({ loggedInUser: response })\n      })\n      .catch(x => this.setState({ loggedInUser: false }))\n\n  }\n\n  setTheUser = (userObj) => { this.setState({ loggedInUser: userObj }) }\n\n  render() {\n\n    const { loggedInUser } = this.state\n\n    if (loggedInUser) {\n      return (\n        <React.Fragment>\n          <h1>DioCane</h1>\n          <Switch>\n            <Route exact path='/profile' component={Profile} />\n            {/* <ProtectedRoutes user={this.state.loggedInUser} exact path='/profile' component={Profile} checkIfLogged={this.fetchUser}/> */}\n          </Switch>\n        </React.Fragment>\n      )\n    }\n    else {\n      return (\n        <React.Fragment>\n\n          <Switch>\n            {/* <Route exact path='/profile' component={Profile} /> */}\n            <Route exact path='/' component={Home} />>\n            <Route exact path='/signup' render={() => <Signup setUser={this.setTheUser} userInSession={this.state.loggedInUser} />} />\n            <Route exact path='/login' render={() => <Login setUser={this.setTheUser} userInSession={this.state.loggedInUser} />} />\n            {/* <Route user={this.state.loggedInUser} exact path='/profile' component={Profile} /> */}\n          </Switch>\n\n        </React.Fragment>\n      )\n    }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render((\n    <Router>\n        <App />\n    </Router>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}