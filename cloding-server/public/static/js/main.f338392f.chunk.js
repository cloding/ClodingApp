(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(52),i=a.n(s),l=(a(59),a(1)),o=a(2),c=a(3),u=a(5),h=a(4),m=a(6),p=(a(60),a(22)),g=a(28),d=a.n(g),f=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n,r,s,i,l,o,c,u,h){return t.service.post("/signup",{username:e,password:a,mail:n,country:r,region:s,city:i,direction:l,tShirt:o,buy:c,photouser:u,role:h}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})},this.editProfile=function(e,a,n,r,s,i,l,o){return t.service.post("/edit",{username:e,mail:a,country:n,region:r,city:s,direction:i,photouser:l,id:o}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.delete=function(e){return t.service.post("/delete",{id:e}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=d.a.create({baseURL:"https://cloding-app.herokuapp.com/api",withCredentials:!0})},x=a(11),v=(a(80),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Home"),r.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer")),r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Home")))))}}]),t}(n.Component)),y=(a(44),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"delete",value:function(e){var t=this;e.preventDefault(),this.service.delete(this.props.user._id).then(function(){t.props.logout(),t.props.history.push("/")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return console.log(this.props.user),"user"!==this.props.user.role?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Admin"),r.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer")),r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Home"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container"},r.a.createElement("h2",null,this.props.user.username),r.a.createElement("ul",null,r.a.createElement("li",null,"email: ",this.props.user.mail),r.a.createElement("li",null,"nation: ",this.props.user.country),r.a.createElement("li",null,"region: ",this.props.user.region),r.a.createElement("li",null,"city: ",this.props.user.city),r.a.createElement(x.b,{className:"btn light-blue",to:"/old-orders"},"Old orders")),r.a.createElement("div",{className:"profile-page-btn"},r.a.createElement(x.b,{className:"btn light-blue",to:"/profile/edit"},"Edit profile"),r.a.createElement("button",{className:"btn red",onClick:function(t){return e.delete(t)}},"Delete"))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"profile-page-image"},r.a.createElement("img",{src:this.props.user.photouser,alt:"profile"}))))))}}]),t}(n.Component)),b=Object(p.f)(y),E=a(15),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,this.props.label,":"),r.a.createElement("input",{type:this.props.type,name:this.props.name,defaultValue:this.props.value,onChange:this.props.onchange}))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:"",logged:!0},function(){return a.props.setUser(e)})}).catch(function(e){console.log(e),a.setState({error:e.response.data.message})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:"",logged:!1,error:""},a.service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.logged),this.state.logged?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"half-container"},r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement(S,{label:"Username",type:"text",name:"username",value:this.state.username,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Password",type:"password",name:"password",value:this.state.password,onchange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Login"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("p",null,"Don't have account?",r.a.createElement(x.b,{to:"/signup"}," Signup"))))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.user.username,n=a.state.user.password,r=a.state.user.tShirt,s=a.state.user.buy,i=a.state.user.photouser,l=a.state.user.role,o=a.state.user.mail,c=a.state.user.country,u=a.state.user.region,h=a.state.user.city,m=a.state.user.direction;a.service.signup(t,n,o,c,u,h,m,r,s,i,l).then(function(e){a.setState({username:"",password:"",mail:"",country:"",region:"",city:"",direction:"",logged:!0},function(){return a.props.setUser(e)})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(l.a)({},a.state.user,Object(E.a)({},n,r))})},a.state={user:{username:"",password:"",mail:"",country:"",region:"",city:"",direction:"",tShirt:[],buy:[],photouser:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",role:"user"},logged:!1,error:""},a.service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.logged),this.state.logged?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"half-container"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(S,{label:"Username",type:"text",name:"username",value:this.state.username,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Password",type:"password",name:"password",value:this.state.password,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Email",type:"email",name:"mail",value:this.state.mail,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Country",type:"text",name:"country",value:this.state.country,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Region",type:"text",name:"region",value:this.state.region,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"City",type:"text",name:"city",value:this.state.city,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Address",type:"text",name:"direction",value:this.state.direction,onchange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Signup"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("p",null,"Already have account?",r.a.createElement(x.b,{to:"/login"}," Login"))))))}}]),t}(n.Component),F=(a(89),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(e){var t=this;e.preventDefault(),this.service.logout().then(function(){t.props.logout(),t.props.history.push("/")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return null!=this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar"},r.a.createElement("h2",null,r.a.createElement(x.b,{to:"/"},"Cloding")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(x.b,{to:"/profile",className:"link-photo-profile"},this.props.user.username,r.a.createElement("img",{src:this.props.user.photouser,alt:"profile"}))),r.a.createElement("li",{className:"cursor",onClick:function(t){return e.logout(t)}},"Logout"),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"}))),r.a.createElement("li",null,r.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer")))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar"},r.a.createElement("h2",null,r.a.createElement(x.b,{to:"/"},"Cloding")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(x.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/signup"},"Register")),r.a.createElement("li",null,r.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer"))))))}}]),t}(n.Component)),N=Object(p.f)(F),k=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Selecor"),r.a.createElement(x.b,{className:"btn orange",to:"/canvas"},"Start")),r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Selecor")))))}}]),t}(n.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(k,null),r.a.createElement(k,null))}}]),t}(n.Component),T=a(21),U=a.n(T),C=a(16),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={image:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new window.Image;t.crossOrigin="Anonymous",t.src="https://res.cloudinary.com/dgp1wgz95/image/upload/v1557582263/Cloding/wear/t-shirt_gdawk3.png",t.onload=function(){e.setState({image:t},function(){e.myImage.cache(),e.myImage.getLayer().batchDraw()})}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.Image,{image:this.state.image,x:30,y:35,width:426,height:430,filters:[U.a.Filters.RGB],red:this.props.red,blue:this.props.blue,green:this.props.green,ref:function(t){e.myImage=t}}))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={image:null,width:100,height:100},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(){var e=this,t=new window.Image;t.crossOrigin="Anonymous",t.src=this.props.img,t.onload=function(){e.setState(Object(l.a)({},e.state,{image:t}),function(){e.myImage.cache(),e.myImage.getLayer().batchDraw()})}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.active?r.a.createElement(C.Image,{name:this.props.imgName,image:this.state.image,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,scaleX:this.props.scaleX,scaleY:this.props.scaleY,rotation:this.props.rotation,onDragEnd:function(t){return e.props.dragPosition(t)},opacity:parseFloat(this.props.opacity),hue:+this.props.hue,saturation:parseFloat(this.props.saturation),value:parseFloat(this.props.value),filters:[U.a.Filters.HSV],ref:function(t){e.myImage=t},onTransform:function(t){return e.props.transform(t)},draggable:!0}):null)}}]),t}(n.Component),D=(a(134),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleStageMouseDown=function(e){if(e.target!==e.target.getStage()){if(!("Transformer"===e.target.getParent().className)){var t=e.target.attrs.name;a.state.images.find(function(e){return e.imgName===t})?a.setState(Object(l.a)({},a.state,{selectedShapeName:t})):a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))}}else a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))},a.state={images:[{imgName:"image1"},{imgName:"image2"}],selectedShapeName:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.myGroup.clipFunc(function(e){e.lineTo(114,80),e.lineTo(179,55),e.moveTo(179,55),e.bezierCurveTo(179,100,309,100,309,54),e.lineTo(371,75),e.lineTo(383,84),e.lineTo(409,120),e.lineTo(444,181),e.lineTo(441,188),e.lineTo(427,201),e.lineTo(391,222),e.lineTo(372,230),e.lineTo(355,206),e.lineTo(358,440),e.lineTo(356,442),e.lineTo(301,445),e.lineTo(180,445),e.lineTo(127,440),e.lineTo(129,403),e.lineTo(130,329),e.lineTo(128,209),e.lineTo(114,233),e.lineTo(90,223),e.lineTo(53,199),e.lineTo(44,191),e.lineTo(42,184),e.lineTo(95,95),e.lineTo(104,86),e.lineTo(114,80)})}},{key:"componentDidUpdate",value:function(){var e=this.transformer.getStage(),t=this.state.selectedShapeName,a=e.findOne("."+t);a!==this.transformer.node()&&(a?this.transformer.attachTo(a):this.transformer.detach(),this.transformer.getLayer().batchDraw())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.Stage,{width:480,height:480,onMouseDown:function(t){return e.handleStageMouseDown(t)}},r.a.createElement(C.Layer,null,r.a.createElement(Y,{filters:[U.a.Filters.RGB],blue:this.props.blue,red:this.props.red,green:this.props.green})),r.a.createElement(C.Layer,null,r.a.createElement(C.Group,{ref:function(t){return e.myGroup=t}},r.a.createElement(X,{active:this.props.active1,imgName:this.state.images[0].imgName,img:this.props.imageUrl1,x:this.props.x1,y:this.props.y1,scaleX:this.props.scaleX1,scaleY:this.props.scaleY1,rotation:this.props.rotation1,opacity:this.props.opacity1,filters:[U.a.Filters.HSV],hue:this.props.hue1,saturation:this.props.saturation1,value:this.props.value1,dragPosition:function(t){return e.props.dragPosition1(t)},transform:function(t){return e.props.transform1(t)}}),r.a.createElement(X,{active:this.props.active2,imgName:this.state.images[1].imgName,img:this.props.imageUrl2,x:this.props.x2,y:this.props.y2,scaleX:this.props.scaleX2,scaleY:this.props.scaleY2,rotation:this.props.rotation2,opacity:this.props.opacity2,filters:[U.a.Filters.HSV],hue:this.props.hue2,saturation:this.props.saturation2,value:this.props.value2,dragPosition:function(t){return e.props.dragPosition2(t)},transform:function(t){return e.props.transform2(t)}}),r.a.createElement(C.Text,{id:"text1",x:+this.props.textX1,y:+this.props.textY1,fontSize:+this.props.textSize1,fontFamily:this.props.textFamily1,fill:this.props.textFill1,allign:"center",fontStyle:this.props.textStyle1,text:this.props.text1,draggable:!0,onDragEnd:function(t){return e.props.dragText1(t)}}),r.a.createElement(C.Text,{id:"text2",x:+this.props.textX2,y:+this.props.textY2,fontSize:+this.props.textSize2,fontFamily:this.props.textFamily2,fill:this.props.textFill2,allign:"center",fontStyle:this.props.textStyle2,text:this.props.text2,draggable:!0,onDragEnd:function(t){return e.props.dragText2(t)}}),r.a.createElement(C.Text,{id:"text3",x:+this.props.textX3,y:+this.props.textY3,fontSize:+this.props.textSize3,fontFamily:this.props.textFamily3,fill:this.props.textFill3,allign:"center",fontStyle:this.props.textStyle3,text:this.props.text3,draggable:!0,onDragEnd:function(t){return e.props.dragText3(t)}}),r.a.createElement(C.Transformer,{ref:function(t){return e.transformer=t}})))))}}]),t}(n.Component)),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.blue),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"controlRGB"},r.a.createElement("label",{htmlFor:"red"},"Red:"),r.a.createElement("input",{id:"red",type:"range",min:"0",max:"255",step:"1",defaultValue:"255",onChange:function(t){return e.props.rgbValue(t)}}),r.a.createElement("label",{htmlFor:"green"},"Green:"),r.a.createElement("input",{id:"green",type:"range",min:"0",max:"255",step:"1",defaultValue:"255",onChange:function(t){return e.props.rgbValue(t)}}),r.a.createElement("label",{htmlFor:"blue"},"Blue:"),r.a.createElement("input",{id:"blue",type:"range",min:"0",max:"255",step:"1",defaultValue:"255",onChange:function(t){return e.props.rgbValue(t)}})),r.a.createElement("div",null,r.a.createElement("label",{id:"firstImage"},"First image"),r.a.createElement("button",{type:"button",name:"firstImage",onClick:function(){return e.props.showWidget()},className:"btn orange cursor"},"Upload"),r.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteImage()},className:"btn orange cursor"},"delete"),r.a.createElement("label",{htmlFor:"opacity1"},"Opacity:"),r.a.createElement("input",{id:"opacity1",type:"range",min:"0",max:"1",step:"0.1",defaultValue:"1",onChange:function(t){return e.props.effects(t)}}),r.a.createElement("label",{htmlFor:"Hue1"},"Hue:"),r.a.createElement("input",{id:"hue1",type:"range",min:"0",max:"259",step:"1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}}),r.a.createElement("label",{htmlFor:"saturation1"},"Saturation:"),r.a.createElement("input",{id:"saturation1",type:"range",min:"-2",max:"10",step:"0.5",defaultValue:"0",onChange:function(t){return e.props.effects(t)}}),r.a.createElement("label",{htmlFor:"value1"},"Value:"),r.a.createElement("input",{id:"value1",type:"range",min:"-2",max:"2",step:"0.1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}})),r.a.createElement("div",null,r.a.createElement("label",{id:"secondImage"},"Second image"),r.a.createElement("button",{type:"button",name:"secondImage",onClick:function(){return e.props.showWidget2()},className:"btn orange cursor"},"Upload"),r.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteImage2()},className:"btn orange cursor"},"delete"),r.a.createElement("label",{htmlFor:"opacity2"},"Opacity:"),r.a.createElement("input",{id:"opacity2",type:"range",min:"0",max:"1",step:"0.1",defaultValue:"1",onChange:function(t){return e.props.effects(t)}}),r.a.createElement("label",{htmlFor:"Hue2"},"Hue:"),r.a.createElement("input",{id:"hue2",type:"range",min:"0",max:"259",step:"1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}}),r.a.createElement("label",{htmlFor:"saturation2"},"Saturation:"),r.a.createElement("input",{id:"saturation2",type:"range",min:"-2",max:"10",step:"0.5",defaultValue:"0",onChange:function(t){return e.props.effects(t)}}),r.a.createElement("label",{htmlFor:"value2"},"Value:"),r.a.createElement("input",{id:"value2",type:"range",min:"-2",max:"2",step:"0.1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"text1"},"First Text:"),r.a.createElement("input",{id:"text1",type:"text",defaultValue:"",onChange:function(t){return e.props.text(t)}}),r.a.createElement("select",{id:"textFill1",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"black",defaultValue:!0},"Black"),r.a.createElement("option",{value:"white"},"White"),r.a.createElement("option",{value:"red"},"Red"),r.a.createElement("option",{value:"green"},"Green"),r.a.createElement("option",{value:"blue"},"Blue"),r.a.createElement("option",{value:"yellow"},"Yellow"),r.a.createElement("option",{value:"purple"},"Purple")),r.a.createElement("select",{id:"textFamily1",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"Oxygen",defaultValue:!0},"Oxygen"),r.a.createElement("option",{value:"Montserrat"},"Montserrat"),r.a.createElement("option",{value:"Poppins"},"Poppins"),r.a.createElement("option",{value:"Roboto"},"Roboto"),r.a.createElement("option",{value:"Rubik"},"Rubik")),r.a.createElement("input",{id:"textSize1",type:"text",defaultValue:"20",onChange:function(t){return e.props.text(t)}}),r.a.createElement("select",{id:"textStyle1",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"normal",defaultValue:!0},"Normal"),r.a.createElement("option",{value:"bold"},"Bold"),r.a.createElement("option",{value:"italic"},"Italic"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"text2"},"Second Text:"),r.a.createElement("input",{id:"text2",type:"text",defaultValue:"",onChange:function(t){return e.props.text(t)}}),r.a.createElement("select",{id:"textFill2",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"black",defaultValue:!0},"Black"),r.a.createElement("option",{value:"white"},"White"),r.a.createElement("option",{value:"red"},"Red"),r.a.createElement("option",{value:"green"},"Green"),r.a.createElement("option",{value:"blue"},"Blue"),r.a.createElement("option",{value:"yellow"},"Yellow"),r.a.createElement("option",{value:"purple"},"Purple")),r.a.createElement("select",{id:"textFamily2",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"Oxygen",defaultValue:!0},"Oxygen"),r.a.createElement("option",{value:"Montserrat"},"Montserrat"),r.a.createElement("option",{value:"Poppins"},"Poppins"),r.a.createElement("option",{value:"Roboto"},"Roboto"),r.a.createElement("option",{value:"Rubik"},"Rubik")),r.a.createElement("input",{id:"textSize2",type:"text",defaultValue:"20",onChange:function(t){return e.props.text(t)}}),r.a.createElement("select",{id:"textStyle2",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"normal",defaultValue:!0},"Normal"),r.a.createElement("option",{value:"bold"},"Bold"),r.a.createElement("option",{value:"italic"},"Italic"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"text3"},"Third Text:"),r.a.createElement("input",{id:"text3",type:"text",defaultValue:"",onChange:function(t){return e.props.text(t)}}),r.a.createElement("select",{id:"textFill3",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"black",defaultValue:!0},"Black"),r.a.createElement("option",{value:"white"},"White"),r.a.createElement("option",{value:"red"},"Red"),r.a.createElement("option",{value:"green"},"Green"),r.a.createElement("option",{value:"blue"},"Blue"),r.a.createElement("option",{value:"yellow"},"Yellow"),r.a.createElement("option",{value:"purple"},"Purple")),r.a.createElement("select",{id:"textFamily3",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"Oxygen",defaultValue:!0},"Oxygen"),r.a.createElement("option",{value:"Montserrat"},"Montserrat"),r.a.createElement("option",{value:"Poppins"},"Poppins"),r.a.createElement("option",{value:"Roboto"},"Roboto"),r.a.createElement("option",{value:"Rubik"},"Rubik")),r.a.createElement("input",{id:"textSize3",type:"text",defaultValue:"20",onChange:function(t){return e.props.text(t)}}),r.a.createElement("select",{id:"textStyle3",onChange:function(t){return e.props.text(t)}},r.a.createElement("option",{value:"normal",defaultValue:!0},"Normal"),r.a.createElement("option",{value:"bold"},"Bold"),r.a.createElement("option",{value:"italic"},"Italic"))))}}]),t}(n.Component),z=function e(){var t=this;Object(o.a)(this,e),this.saveDesign=function(e,a,n,r,s,i,l,o,c,u,h){return t.service.post("/save-design",{userId:e,type:a,designName:n,red:r,green:s,blue:i,image1:l,image2:o,text1:c,text2:u,text3:h}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.allTShirt=function(e){return t.service.post("/all-tShirt",{userId:e}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.allOldOrders=function(e){return t.service.post("/all-old-orders",{userId:e}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.addQuanity=function(e,a){return t.service.post("/add-quantity",{quantity:e,designId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.delete=function(e,a){return t.service.post("/delete-design",{id:e,userId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.uploadDesign=function(e){return t.service.get("/design/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.updateDesign=function(e,a,n,r,s,i,l,o,c,u){return t.service.post("/edit-design",{designId:e,designName:a,red:n,green:r,blue:s,image1:i,image2:l,text1:o,text2:c,text3:u}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.addMoneyToPay=function(e,a){return t.service.post("/add-toPay",{designId:e,toPayOne:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.buy=function(e,a){return t.service.post("/buy",{userId:e,arrDesign:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.moveToCart=function(e,a){return t.service.post("/move-to-cart",{userId:e,oldOrderId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=d.a.create({baseURL:"https://cloding-app.herokuapp.com/api",withCredentials:!0})},V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).saveDesign=function(e){e.preventDefault();var t=a.props.user._id,n=a.state.designName,r=a.state.red,s=a.state.green,i=a.state.blue,l={url:a.state.imageUrlFix1,active:a.state.active1,opacity:a.state.opacity1,hue:a.state.hue1,value:a.state.value1,x:a.state.x1,y:a.state.y1,scaleX:a.state.scaleX1,scaleY:a.state.scaleY1,rotation:a.state.rotation1},o={url:a.state.imageUrlFix2,active:a.state.active2,opacity:a.state.opacity2,hue:a.state.hue2,value:a.state.value2,x:a.state.x2,y:a.state.y2,scaleX:a.state.scaleX2,scaleY:a.state.scaleY2,rotation:a.state.rotation2},c={text:a.state.text1,x:a.state.textX1,y:a.state.textY1,fill:a.state.textFill1,family:a.state.textFamily1,size:a.state.textSize1,style:a.state.textStyle1},u={text:a.state.text2,x:a.state.textX2,y:a.state.textY2,fill:a.state.textFill2,family:a.state.textFamily2,size:a.state.textSize2,style:a.state.textStyle2},h={text:a.state.text3,x:a.state.textX3,y:a.state.textY3,fill:a.state.textFill3,family:a.state.textFamily3,size:a.state.textSize3,style:a.state.textStyle3};a.service.saveDesign(t,"t-shirt",n,r,s,i,l,o,c,u,h).then(function(){a.props.history.push("/cart")}).catch(function(e){return console.log(e)})},a.handleDragEnd1=function(e){a.setState(Object(l.a)({},a.state,{x1:e.target.x(),y1:e.target.y()}))},a.handleDragEnd2=function(e){a.setState(Object(l.a)({},a.state,{x2:e.target.x(),y2:e.target.y()}))},a.handleDragEndText1=function(e){a.setState(Object(l.a)({},a.state,{textX1:e.target.attrs.x,textY1:e.target.attrs.y}))},a.handleDragEndText2=function(e){a.setState(Object(l.a)({},a.state,{textX2:e.target.attrs.x,textY2:e.target.attrs.y}))},a.handleDragEndText3=function(e){a.setState(Object(l.a)({},a.state,{textX3:e.target.attrs.x,textY3:e.target.attrs.y}))},a.state={designName:"",red:"255",blue:"255",green:"255",imageUrl1:"",imageUrl2:"",imageUrlFix1:"",imageUrlFix2:"",active1:!1,active2:!1,x1:190,y1:150,x2:190,y2:150,opacity1:1,opacity2:1,scaleX1:1,scaleY1:1,scaleX2:1,scaleY2:1,rotation1:0,rotation2:0,hue1:0,saturation1:0,value1:0,hue2:0,saturation2:0,value2:0,text1:"",textFill1:"black",textFamily1:"Oxygen",textSize1:"20",textStyle1:"normal",textX1:"190",textY1:"150",text2:"",textFill2:"black",textFamily2:"Oxygen",textSize2:"20",textStyle2:"normal",textX2:"190",textY2:"150",text3:"",textFill3:"black",textFamily3:"Oxygen",textSize3:"20",textStyle3:"normal",textX3:"190",textY3:"150"},a.service=new z,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(E.a)({},a,n)))}},{key:"text",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(E.a)({},a,n)))}},{key:"effects",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(E.a)({},a,n)))}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl1:e.info.secure_url,active1:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix1:e.info.secure_url}))}},{key:"checkUploadResult2",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl2:e.info.secure_url,active2:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix2:e.info.secure_url}))}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(t,a){e.checkUploadResult(a)}).open()}},{key:"showWidget2",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(t,a){e.checkUploadResult2(a)}).open()}},{key:"deleteImage",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix1:"",active1:!1,x1:190,y1:150,scaleX1:1,scaleY1:1,opacity1:1,hue1:0,saturation1:0,value1:0,rotation1:0}))}},{key:"deleteImage2",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix2:"",active2:!1,x2:190,y2:150,scaleX2:1,scaleY2:1,opacity2:1,hue2:0,saturation2:0,value2:0,rotation2:0}))}},{key:"handleTransform1",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX1:e.currentTarget.attrs.scaleX,scaleY1:e.currentTarget.attrs.scaleY,rotation1:e.currentTarget.attrs.rotation}))}},{key:"handleTransform2",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX2:e.currentTarget.attrs.scaleX,scaleY2:e.currentTarget.attrs.scaleY,rotation2:e.currentTarget.attrs.rotation}))}},{key:"render",value:function(){var e=this;return this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container"},r.a.createElement(I,{rgbValue:function(t){return e.rgbValue(t)},showWidget:function(){return e.showWidget()},showWidget2:function(){return e.showWidget2()},deleteImage:function(){return e.deleteImage()},deleteImage2:function(){return e.deleteImage2()},text:function(t){return e.text(t)},effects:function(t){return e.effects(t)}}),r.a.createElement("form",{onSubmit:this.saveDesign},r.a.createElement(S,{label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}}),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement(D,{blue:this.state.blue,red:this.state.red,green:this.state.green,text1:this.state.text1,textX1:this.state.textX1,textY1:this.state.textY1,textFill1:this.state.textFill1,textFamily1:this.state.textFamily1,textSize1:this.state.textSize1,textStyle1:this.state.textStyle1,text2:this.state.text2,textX2:this.state.textX2,textY2:this.state.textY2,textFill2:this.state.textFill2,textFamily2:this.state.textFamily2,textSize2:this.state.textSize2,textStyle2:this.state.textStyle2,text3:this.state.text3,textX3:this.state.textX3,textY3:this.state.textY3,textFill3:this.state.textFill3,textFamily3:this.state.textFamily3,textSize3:this.state.textSize3,textStyle3:this.state.textStyle3,imageUrl1:this.state.imageUrl1,imageUrl2:this.state.imageUrl2,x1:this.state.x1,y1:this.state.y1,x2:this.state.x2,y2:this.state.y2,scaleX1:this.state.scaleX1,scaleY1:this.state.scaleY1,scaleX2:this.state.scaleX2,scaleY2:this.state.scaleY2,rotation1:this.state.rotation1,rotation2:this.state.rotation2,active1:this.state.active1,active2:this.state.active2,opacity1:this.state.opacity1,opacity2:this.state.opacity2,hue1:this.state.hue1,saturation1:this.state.saturation1,value1:this.state.value1,hue2:this.state.hue2,saturation2:this.state.saturation2,value2:this.state.value2,dragPosition1:function(t){return e.handleDragEnd1(t)},dragPosition2:function(t){return e.handleDragEnd2(t)},transform1:function(t){return e.handleTransform1(t)},transform2:function(t){return e.handleTransform2(t)},dragText1:function(t){return e.handleDragEndText1(t)},dragText2:function(t){return e.handleDragEndText2(t)},dragText3:function(t){return e.handleDragEndText3(t)}}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container"},r.a.createElement(I,{rgbValue:function(t){return e.rgbValue(t)},showWidget:function(){return e.showWidget()},showWidget2:function(){return e.showWidget2()},deleteImage:function(){return e.deleteImage()},deleteImage2:function(){return e.deleteImage2()},text:function(t){return e.text(t)},effects:function(t){return e.effects(t)}})),r.a.createElement("div",{className:"half-container"},r.a.createElement(D,{blue:this.state.blue,red:this.state.red,green:this.state.green,text1:this.state.text1,textX1:this.state.textX1,textY1:this.state.textY1,textFill1:this.state.textFill1,textFamily1:this.state.textFamily1,textSize1:this.state.textSize1,textStyle1:this.state.textStyle1,text2:this.state.text2,textX2:this.state.textX2,textY2:this.state.textY2,textFill2:this.state.textFill2,textFamily2:this.state.textFamily2,textSize2:this.state.textSize2,textStyle2:this.state.textStyle2,text3:this.state.text3,textX3:this.state.textX3,textY3:this.state.textY3,textFill3:this.state.textFill3,textFamily3:this.state.textFamily3,textSize3:this.state.textSize3,textStyle3:this.state.textStyle3,imageUrl1:this.state.imageUrl1,imageUrl2:this.state.imageUrl2,x1:this.state.x1,y1:this.state.y1,x2:this.state.x2,y2:this.state.y2,scaleX1:this.state.scaleX1,scaleY1:this.state.scaleY1,scaleX2:this.state.scaleX2,scaleY2:this.state.scaleY2,rotation1:this.state.rotation1,rotation2:this.state.rotation2,active1:this.state.active1,active2:this.state.active2,opacity1:this.state.opacity1,opacity2:this.state.opacity2,hue1:this.state.hue1,saturation1:this.state.saturation1,value1:this.state.value1,hue2:this.state.hue2,saturation2:this.state.saturation2,value2:this.state.value2,dragPosition1:function(t){return e.handleDragEnd1(t)},dragPosition2:function(t){return e.handleDragEnd2(t)},transform1:function(t){return e.handleTransform1(t)},transform2:function(t){return e.handleTransform2(t)},dragText1:function(t){return e.handleDragEndText1(t)},dragText2:function(t){return e.handleDragEndText2(t)},dragText3:function(t){return e.handleDragEndText3(t)}})))))}}]),t}(n.Component),P=Object(p.f)(V),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).updateDesign=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state.designName,r=a.state.red,s=a.state.green,i=a.state.blue,l={url:a.state.imageUrlFix1,active:a.state.active1,opacity:a.state.opacity1,hue:a.state.hue1,value:a.state.value1,x:a.state.x1,y:a.state.y1,scaleX:a.state.scaleX1,scaleY:a.state.scaleY1,rotation:a.state.rotation1},o={url:a.state.imageUrlFix2,active:a.state.active2,opacity:a.state.opacity2,hue:a.state.hue2,value:a.state.value2,x:a.state.x2,y:a.state.y2,scaleX:a.state.scaleX2,scaleY:a.state.scaleY2,rotation:a.state.rotation2},c={text:a.state.text1,x:a.state.textX1,y:a.state.textY1,fill:a.state.textFill1,family:a.state.textFamily1,size:a.state.textSize1,style:a.state.textStyle1},u={text:a.state.text2,x:a.state.textX2,y:a.state.textY2,fill:a.state.textFill2,family:a.state.textFamily2,size:a.state.textSize2,style:a.state.textStyle2},h={text:a.state.text3,x:a.state.textX3,y:a.state.textY3,fill:a.state.textFill3,family:a.state.textFamily3,size:a.state.textSize3,style:a.state.textStyle3};a.service.updateDesign(t,n,r,s,i,l,o,c,u,h).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},a.handleDragEnd1=function(e){a.setState(Object(l.a)({},a.state,{x1:e.target.x(),y1:e.target.y()}))},a.handleDragEnd2=function(e){a.setState(Object(l.a)({},a.state,{x2:e.target.x(),y2:e.target.y()}))},a.handleDragEndText1=function(e){a.setState(Object(l.a)({},a.state,{textX1:e.target.attrs.x,textY1:e.target.attrs.y}))},a.handleDragEndText2=function(e){a.setState(Object(l.a)({},a.state,{textX2:e.target.attrs.x,textY2:e.target.attrs.y}))},a.handleDragEndText3=function(e){a.setState(Object(l.a)({},a.state,{textX3:e.target.attrs.x,textY3:e.target.attrs.y}))},a.state={design:{},designName:"",red:255,blue:255,green:255,imageUrl1:"",imageUrl2:"",imageUrlFix1:"",imageUrlFix2:"",active1:!1,active2:!1,x1:190,y1:150,x2:190,y2:150,opacity1:1,opacity2:1,scaleX1:1,scaleY1:1,scaleX2:1,scaleY2:1,rotation1:0,rotation2:0,hue1:0,saturation1:0,value1:0,hue2:0,saturation2:0,value2:0,text1:"",textFill1:"black",textFamily1:"Oxygen",textSize1:"20",textStyle1:"normal",textX1:"190",textY1:"150",text2:"",textFill2:"black",textFamily2:"Oxygen",textSize2:"20",textStyle2:"normal",textX2:"190",textY2:"150",text3:"",textFill3:"black",textFamily3:"Oxygen",textSize3:"20",textStyle3:"normal",textX3:"190",textY3:"150"},a.service=new z,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.uploadDesign(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(l.a)({},e.state,{design:a}),function(){e.setState(Object(l.a)({},e.state,{designName:e.state.design.designName,red:e.state.design.red,blue:e.state.design.blue,green:e.state.design.green,imageUrl1:e.state.design.image1.url,imageUrl2:e.state.design.image2.url,imageUrlFix1:e.state.design.image1.url,imageUrlFix2:e.state.design.image2.url,active1:e.state.design.image1.active,active2:e.state.design.image2.active,x1:e.state.design.image1.x,y1:e.state.design.image1.y,x2:e.state.design.image2.x,y2:e.state.design.image2.y,opacity1:e.state.design.image1.opacity,opacity2:e.state.design.image2.opacity,scaleX1:e.state.design.image1.scaleX,scaleY1:e.state.design.image1.scaleY,scaleX2:e.state.design.image2.scaleX,scaleY2:e.state.design.image2.scaleY,rotation1:e.state.design.image1.rotation,rotation2:e.state.design.image2.rotation,hue1:e.state.design.image1.hue,saturation1:e.state.design.image1.saturation,value1:e.state.design.image1.value,hue2:e.state.design.image2.hue,saturation2:e.state.design.image2.saturation,value2:e.state.design.image2.value,text1:e.state.design.text1.text,textFill1:e.state.design.text1.fill,textFamily1:e.state.design.text1.family,textSize1:e.state.design.text1.size,textStyle1:e.state.design.text1.style,textX1:e.state.design.text1.x,textY1:e.state.design.text1.y,text2:e.state.design.text2.text,textFill2:e.state.design.text2.fill,textFamily2:e.state.design.text2.family,textSize2:e.state.design.text2.size,textStyle2:e.state.design.text2.style,textX2:e.state.design.text2.x,textY2:e.state.design.text2.y,text3:e.state.design.text3.text,textFill3:e.state.design.text3.fill,textFamily3:e.state.design.text3.family,textSize3:e.state.design.text3.size,textStyle3:e.state.design.text3.style,textX3:e.state.design.text3.x,textY3:e.state.design.text3.y}),function(){e.forceUpdate(),e.setState(Object(l.a)({},e.state,{imageUrl1:"",imageUrl2:""}))})})})}},{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(E.a)({},a,n)))}},{key:"text",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(E.a)({},a,n)))}},{key:"effects",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(E.a)({},a,n)))}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl1:e.info.secure_url,active1:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix1:e.info.secure_url}))}},{key:"checkUploadResult2",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl2:e.info.secure_url,active2:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix2:e.info.secure_url}))}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(t,a){e.checkUploadResult(a)}).open()}},{key:"showWidget2",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(t,a){e.checkUploadResult2(a)}).open()}},{key:"deleteImage",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix1:"",active1:!1,x1:190,y1:150,scaleX1:1,scaleY1:1,opacity1:1,hue1:0,saturation1:0,value1:0,rotation1:0}))}},{key:"deleteImage2",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix2:"",active2:!1,x2:190,y2:150,scaleX2:1,scaleY2:1,opacity2:1,hue2:0,saturation2:0,value2:0,rotation2:0}))}},{key:"handleTransform1",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX1:e.currentTarget.attrs.scaleX,scaleY1:e.currentTarget.attrs.scaleY,rotation1:e.currentTarget.attrs.rotation}))}},{key:"handleTransform2",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX2:e.currentTarget.attrs.scaleX,scaleY2:e.currentTarget.attrs.scaleY,rotation2:e.currentTarget.attrs.rotation}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container"},r.a.createElement(I,{rgbValue:function(t){return e.rgbValue(t)},showWidget:function(){return e.showWidget()},showWidget2:function(){return e.showWidget2()},deleteImage:function(){return e.deleteImage()},deleteImage2:function(){return e.deleteImage2()},text:function(t){return e.text(t)},effects:function(t){return e.effects(t)}}),r.a.createElement("form",{onSubmit:this.updateDesign},r.a.createElement(S,{label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}}),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement(D,{blue:this.state.blue,red:this.state.red,green:this.state.green,text1:this.state.text1,textX1:this.state.textX1,textY1:this.state.textY1,textFill1:this.state.textFill1,textFamily1:this.state.textFamily1,textSize1:this.state.textSize1,textStyle1:this.state.textStyle1,text2:this.state.text2,textX2:this.state.textX2,textY2:this.state.textY2,textFill2:this.state.textFill2,textFamily2:this.state.textFamily2,textSize2:this.state.textSize2,textStyle2:this.state.textStyle2,text3:this.state.text3,textX3:this.state.textX3,textY3:this.state.textY3,textFill3:this.state.textFill3,textFamily3:this.state.textFamily3,textSize3:this.state.textSize3,textStyle3:this.state.textStyle3,imageUrl1:this.state.imageUrl1,imageUrl2:this.state.imageUrl2,x1:this.state.x1,y1:this.state.y1,x2:this.state.x2,y2:this.state.y2,scaleX1:this.state.scaleX1,scaleY1:this.state.scaleY1,scaleX2:this.state.scaleX2,scaleY2:this.state.scaleY2,rotation1:this.state.rotation1,rotation2:this.state.rotation2,active1:this.state.active1,active2:this.state.active2,opacity1:this.state.opacity1,opacity2:this.state.opacity2,hue1:this.state.hue1,saturation1:this.state.saturation1,value1:this.state.value1,hue2:this.state.hue2,saturation2:this.state.saturation2,value2:this.state.value2,dragPosition1:function(t){return e.handleDragEnd1(t)},dragPosition2:function(t){return e.handleDragEnd2(t)},transform1:function(t){return e.handleTransform1(t)},transform2:function(t){return e.handleTransform2(t)},dragText1:function(t){return e.handleDragEndText1(t)},dragText2:function(t){return e.handleDragEndText2(t)},dragText3:function(t){return e.handleDragEndText3(t)}})))))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(l.a)({},a.state.user,Object(E.a)({},n,r))})},a.state={user:{username:"",mail:"",country:"",region:"",city:"",direction:"",photouser:""},redirect:!1,photouserTemp:""},a.service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{user:this.props.user}))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.user);var a=this.state.user.username,n=this.state.user.mail,r=this.state.user.country,s=this.state.user.region,i=this.state.user.city,l=this.state.user.direction,o=this.state.user.photouser,c=this.state.user._id;this.service.editProfile(a,n,r,s,i,l,o,c).then(function(e){t.props.editDates(e)}).catch(function(e){return console.log(e)})}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{photouserTemp:e.info.secure_url})),"success"===e.event&&this.setState({user:Object(l.a)({},this.state.user,{photouser:e.info.secure_url})})}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(t,a){e.checkUploadResult(a)}).open()}},{key:"render",value:function(){var e=this;return console.log(this.state.user),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container"},r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement(S,{label:"Username",type:"text",name:"username",value:this.state.user.username,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Email",type:"email",name:"mail",value:this.state.user.mail,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Country",type:"text",name:"country",value:this.state.user.country,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Region",type:"text",name:"region",value:this.state.user.region,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"City",type:"text",name:"city",value:this.state.user.city,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{label:"Address",type:"text",name:"direction",value:this.state.user.direction,onchange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"profile-page-image"},r.a.createElement("img",{src:this.state.user.photouser,alt:"profile"}),r.a.createElement("button",{type:"button",name:"firstImage",onClick:function(){return e.showWidget()},className:"btn orange cursor"},"Upload"))))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={active:!0,toPay:0},a.service=new z,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{quantity:this.props.tShirt.quantity}))}},{key:"quantity",value:function(e){var t=this;e.preventDefault();var a=this.state.quantity,n=this.props.tShirt._id;this.service.addQuanity(a,n).then().catch(function(e){return console.log(e)});var r=30*a;this.service.addMoneyToPay(n,r).then(function(){t.service.allTShirt(t.props.user._id).then(function(e){var a=e.tShirt.reduce(function(e,t){return e+t.price},0);t.props.totalAmounts(a)})}).catch(function(e){return console.log(e)})}},{key:"changeQuantiy",value:function(e){this.setState(Object(l.a)({},this.state,{quantity:e.target.value}))}},{key:"delete",value:function(e){var t=this;e.preventDefault(),this.service.delete(this.props.tShirt._id,this.props.user._id).then(function(){t.service.allTShirt(t.props.user._id).then(function(e){var a=e.tShirt.reduce(function(e,t){return e+t.price},0);t.props.totalAmounts(a)}),t.setState(Object(l.a)({},t.state,{active:!1}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.active?r.a.createElement("div",null,r.a.createElement("h2",null,this.props.tShirt.designName),r.a.createElement("p",null,this.props.tShirt.type),r.a.createElement("form",{onSubmit:function(t){return e.quantity(t)}},r.a.createElement(S,{label:"Quantity",type:"number",name:"quantity",value:this.state.quantity,onchange:function(t){return e.changeQuantiy(t)}}),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Add"})),r.a.createElement(x.b,{className:"btn purple",to:"/canvas/edit/".concat(this.props.tShirt._id)},"Edit"),r.a.createElement("button",{className:"btn red",onClick:function(t){return e.delete(t)}},"Delete")):null)}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={tShirts:[],toPay:0},a.service=new z,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.allTShirt(this.props.user._id).then(function(t){var a=t.tShirt,n=a.reduce(function(e,t){return e+t.price},0);e.setState(Object(l.a)({},e.state,{tShirts:a,toPay:n}))})}},{key:"totalAmounts",value:function(e){this.setState(Object(l.a)({},this.state,{toPay:e}))}},{key:"buy",value:function(e){var t=this;e.preventDefault(),this.service.buy(this.props.user._id,this.state.tShirts).then(function(){t.setState(Object(l.a)({},t.service,{tShirts:[],toPay:0}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.tShirts.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(_,{tShirt:t,user:e.props.user,totalAmounts:function(t){return e.totalAmounts(t)}}))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"cartContainer"},r.a.createElement("ul",null,t)),r.a.createElement("p",null,"To pay: ",this.state.toPay),r.a.createElement("button",{className:"btn orange",onClick:function(t){return e.buy(t)}},"Buy"))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},a.service=new z,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"moveToCart",value:function(e){e.preventDefault(),this.service.moveToCart(this.props.user._id,this.props.oldOrder._id).then().catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,this.props.oldOrder.designName),r.a.createElement("p",null,this.props.oldOrder.type),r.a.createElement("p",null,this.props.oldOrder.quantity),r.a.createElement("p",null,this.props.oldOrder.price),r.a.createElement("button",{className:"btn red",onClick:function(t){return e.moveToCart(t)}},"Cart")))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={oldOrders:[],payments:0},a.service=new z,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.allOldOrders(this.props.user._id).then(function(t){var a=t.buy,n=a.reduce(function(e,t){return e+t.price},0);e.setState(Object(l.a)({},e.state,{oldOrders:a,payments:n}))})}},{key:"render",value:function(){var e=this,t=this.state.oldOrders.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(B,{oldOrder:t,user:e.props.user}))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"cartContainer"},r.a.createElement("ul",null,t)),r.a.createElement("p",null,"Total of the payments: ",this.state.payments," "))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).fetchUser=function(){a.service.loggedin().then(function(e){console.log(e),a.setState({loggedInUser:e})}).catch(function(e){return a.setState({loggedInUser:!1})})},a.setTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logoutUser",value:function(){this.setState(Object(l.a)({},this.state,{loggedInUser:null}))}},{key:"editUser",value:function(e){this.setState(Object(l.a)({},this.state,{loggedInUser:e}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{user:this.state.loggedInUser,logout:function(){return e.logoutUser()}}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:v}),r.a.createElement(p.b,{exact:!0,path:"/designer",component:w}),r.a.createElement(p.b,{exact:!0,path:"/canvas",render:function(t){return r.a.createElement(P,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/profile/",render:function(t){return r.a.createElement(b,Object.assign({},t,{logout:function(){return e.logoutUser()},user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/profile/edit",render:function(t){return r.a.createElement(W,Object.assign({},t,{user:e.state.loggedInUser,editDates:function(t){return e.editUser(t)}}))}}),r.a.createElement(p.b,{exact:!0,path:"/cart",render:function(t){return r.a.createElement(M,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/old-orders",render:function(t){return r.a.createElement(A,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/canvas/edit/:id",render:function(t){return r.a.createElement(R,Object.assign({},t,{user:e.state.loggedInUser}))}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{user:this.state.loggedInUser}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:v}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({},t,{setUser:e.setTheUser,userInSession:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(O,Object.assign({},t,{setUser:e.setTheUser,userInSession:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/designer",component:w}),r.a.createElement(p.b,{exact:!0,path:"/canvas",render:function(t){return r.a.createElement(P,Object.assign({},t,{user:e.state.loggedInUser}))}})))}}]),t}(n.Component);i.a.render(r.a.createElement(x.a,null,r.a.createElement(q,null)),document.getElementById("root"))},44:function(e,t,a){},55:function(e,t,a){e.exports=a(135)},59:function(e,t,a){},60:function(e,t,a){},80:function(e,t,a){},89:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.f338392f.chunk.js.map