(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(52),i=a.n(r),l=(a(59),a(1)),o=a(2),c=a(3),u=a(5),m=a(4),h=a(6),p=(a(60),a(22)),d=a(28),g=a.n(d),f=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n,s,r,i,l,o,c,u,m){return t.service.post("/signup",{username:e,password:a,mail:n,country:s,region:r,city:i,direction:l,tShirt:o,buy:c,photouser:u,role:m}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})},this.editProfile=function(e,a,n,s,r,i,l,o){return t.service.post("/edit",{username:e,mail:a,country:n,region:s,city:r,direction:i,photouser:l,id:o}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.delete=function(e){return t.service.post("/delete",{id:e}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=g.a.create({baseURL:"https://cloding-app.herokuapp.com/api",withCredentials:!0})},x=a(11),v=(a(80),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"half-container home"},s.a.createElement("h1",null,"Create your clothes with coding!"),s.a.createElement("div",{className:"text-home-center"},s.a.createElement("p",null,"Cloding is the first page that allows you to create and edit T-shirts, sweatshirts and pants directly with programming. Give space to your imagination!")),s.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer")),s.a.createElement("div",{className:"half-container home-right"},s.a.createElement("img",{src:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557993277/Cloding/wear/homeIPad_Tavola_disegno_1_ntd2ah.png",alt:"ipad-model"})))))}}]),t}(n.Component)),y=(a(44),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).service=new f,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"delete",value:function(e){var t=this;e.preventDefault(),this.service.delete(this.props.user._id).then(function(){t.props.logout(),t.props.history.push("/")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return console.log(this.props.user),"user"!==this.props.user.role?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"half-container"},s.a.createElement("h1",null,"Admin"),s.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer")),s.a.createElement("div",{className:"half-container"},s.a.createElement("h1",null,"Home"))))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container padding"},s.a.createElement("h2",null,this.props.user.username),s.a.createElement("ul",{className:"profile-list"},s.a.createElement("li",null,"email: ",s.a.createElement("span",{className:"f700"},this.props.user.mail)),s.a.createElement("li",null,"nation: ",s.a.createElement("span",{className:"f700"},this.props.user.country)),s.a.createElement("li",null,"region: ",s.a.createElement("span",{className:"f700"},this.props.user.region)),s.a.createElement("li",null,"city: ",s.a.createElement("span",{className:"f700"},this.props.user.city)),s.a.createElement("li",null,"address: ",s.a.createElement("span",{className:"f700"},this.props.user.city))),s.a.createElement("div",{className:"profile-page-btn"},s.a.createElement("div",{className:"profile-btn-line"},s.a.createElement(x.b,{className:"btn orange",to:"/old-orders"},"Old orders")),s.a.createElement("div",{className:"profile-btn-line"},s.a.createElement(x.b,{className:"btn purple cursor",to:"/profile/edit"},"Edit profile"),s.a.createElement("button",{className:"btn red",onClick:function(t){return e.delete(t)}},"Delete")))),s.a.createElement("div",{className:"half-container photo-profile-container"},s.a.createElement("div",{className:"profile-page-image"},s.a.createElement("img",{src:this.props.user.photouser,alt:"profile"}))))))}}]),t}(n.Component)),E=Object(p.f)(y),b=a(15),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:this.props.labelCss},this.props.label,":"),s.a.createElement("input",{placeholder:this.props.placeholder,className:this.props.inputCss,type:this.props.type,name:this.props.name,defaultValue:this.props.value,onChange:this.props.onchange}))}}]),t}(n.Component),N=(a(89),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:"",logged:!0},function(){return a.props.setUser(e)})}).catch(function(e){console.log(e),a.setState({error:e.response.data.message})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.state={username:"",password:"",logged:!1,error:""},a.service=new f,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.logged),this.state.logged?s.a.createElement(p.a,{to:"/"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container padding"},s.a.createElement("h2",null,"Login"),s.a.createElement("form",{className:"form-auth",onSubmit:function(t){return e.handleFormSubmit(t)}},s.a.createElement("div",{className:"input-login"},s.a.createElement(S,{labelCss:"dispay-none",placeholder:"username",inputCss:"input-auth",type:"text",name:"username",value:this.state.username,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"password",inputCss:"input-auth",type:"password",name:"password",value:this.state.password,onchange:function(t){return e.handleChange(t)}})),s.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Login"}))),s.a.createElement("div",{className:"half-container padding auth-right"},s.a.createElement("div",{className:"link-auth-text"},s.a.createElement("h4",null,"You don't have an account yet? ",s.a.createElement("span",{className:"link-auth"},s.a.createElement(x.b,{to:"/signup"},"Register here.")))),s.a.createElement("div",{className:"logoAuth"},s.a.createElement("img",{src:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557993914/Cloding/wear/logoOpacity_unnxum.png",alt:"logo Cloding"}))))))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.user.username,n=a.state.user.password,s=a.state.user.tShirt,r=a.state.user.buy,i=a.state.user.photouser,l=a.state.user.role,o=a.state.user.mail,c=a.state.user.country,u=a.state.user.region,m=a.state.user.city,h=a.state.user.direction;a.service.signup(t,n,o,c,u,m,h,s,r,i,l).then(function(e){a.setState({username:"",password:"",mail:"",country:"",region:"",city:"",direction:"",logged:!0},function(){return a.props.setUser(e)})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState({user:Object(l.a)({},a.state.user,Object(b.a)({},n,s))})},a.state={user:{username:"",password:"",mail:"",country:"",region:"",city:"",direction:"",tShirt:[],buy:[],photouser:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",role:"user"},logged:!1,error:""},a.service=new f,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.logged),this.state.logged?s.a.createElement(p.a,{to:"/"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container overflow padding"},s.a.createElement("h2",null,"Sign up"),s.a.createElement("form",{className:"form-auth",onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"input-sign-up"},s.a.createElement(S,{labelCss:"dispay-none",placeholder:"username",inputCss:"input-auth",type:"text",name:"username",value:this.state.username,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"password",inputCss:"input-auth",type:"password",name:"password",value:this.state.password,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"e-mail",inputCss:"input-auth",type:"email",name:"mail",value:this.state.mail,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"country",inputCss:"input-auth",type:"text",name:"country",value:this.state.country,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"region",inputCss:"input-auth",type:"text",name:"region",value:this.state.region,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"city",inputCss:"input-auth",type:"text",name:"city",value:this.state.city,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"address",inputCss:"input-auth",type:"text",name:"direction",value:this.state.direction,onchange:function(t){return e.handleChange(t)}})),s.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Signup"}))),s.a.createElement("div",{className:"half-container padding auth-right"},s.a.createElement("div",{className:"link-auth-text"},s.a.createElement("h4",null,"You already have an account? ",s.a.createElement("span",{className:"link-auth"},s.a.createElement(x.b,{to:"/login"}," Login here.")))),s.a.createElement("div",{className:"logoAuth"},s.a.createElement("img",{src:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557993914/Cloding/wear/logoOpacity_unnxum.png",alt:"logo Cloding"}))))))}}]),t}(n.Component),j=(a(90),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).service=new f,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(e){var t=this;e.preventDefault(),this.service.logout().then(function(){t.props.logout(),t.props.history.push("/")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return null!=this.props.user?s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",null,s.a.createElement("div",{className:"navbar"},s.a.createElement("h2",null,s.a.createElement(x.b,{to:"/"},"Cloding")),s.a.createElement("ul",null,s.a.createElement("li",{className:"cursor",onClick:function(t){return e.logout(t)}},"Logout"),s.a.createElement("li",null,s.a.createElement(x.b,{to:"/profile",className:"link-photo-profile"},this.props.user.username,s.a.createElement("img",{src:this.props.user.photouser,alt:"profile"}))),s.a.createElement("li",null,s.a.createElement(x.b,{to:"/cart"},s.a.createElement("i",{className:"fas fa-shopping-cart"}))),s.a.createElement("li",null,s.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer")))))):s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",null,s.a.createElement("div",{className:"navbar"},s.a.createElement("h2",null,s.a.createElement(x.b,{to:"/"},"Cloding")),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(x.b,{to:"/login"},"Login")),s.a.createElement("li",null,s.a.createElement(x.b,{to:"/signup"},"Register")),s.a.createElement("li",null,s.a.createElement(x.b,{className:"btn purple",to:"/designer"},"Designer"))))))}}]),t}(n.Component)),F=Object(p.f)(j),C=(a(91),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container padding"},s.a.createElement("h2",null,"Create a new ",this.props.cloth," "),s.a.createElement("div",{className:"text-home-center"},s.a.createElement("p",null,this.props.clothText),s.a.createElement("h4",{className:"price-selector"},"Price: ",s.a.createElement("span",{className:"f700"},this.props.price),"\u20ac ")),s.a.createElement(x.b,{className:"btn orange",to:"/canvas"},"Start")),s.a.createElement("div",{className:"half-container selector-right"},s.a.createElement("div",{className:"selector-right-container"},s.a.createElement("img",{src:this.props.clothImage,alt:"tShirt"}))))))}}]),t}(n.Component)),w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(C,{cloth:"t-shirt",clothText:"T-shirt made in sustainable fabrics, cotton 100%, that create awareness of the need to protect our planet.",price:"30",clothImage:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557998622/Cloding/wear/tShirtDesigner_mrnlmr.png"}),s.a.createElement(C,{cloth:"trousers",clothText:"Trousers made in sustainable fabrics, cotton 100%, that create awareness of the need to protect our planet.",price:"60",clothImage:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1558001311/Cloding/wear/trousersDesigner_owwvnz.png"}),s.a.createElement(C,{cloth:"sweatshirt",clothText:"Sweatshirt made in sustainable fabrics, cotton 100%, that create awareness of the need to protect our planet.",price:"40",clothImage:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1558001724/Cloding/wear/sudaderaDesigner_jxrnyb.png"}))}}]),t}(n.Component),k=a(21),T=a.n(k),U=a(16),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={image:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new window.Image;t.crossOrigin="Anonymous",t.src="https://res.cloudinary.com/dgp1wgz95/image/upload/v1557582263/Cloding/wear/t-shirt_gdawk3.png",t.onload=function(){e.setState({image:t},function(){e.myImage.cache(),e.myImage.getLayer().batchDraw()})}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(U.Image,{image:this.state.image,x:30,y:35,width:426,height:430,filters:[T.a.Filters.RGB],red:this.props.red,blue:this.props.blue,green:this.props.green,ref:function(t){e.myImage=t}}))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={image:null,width:100,height:100},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(){var e=this,t=new window.Image;t.crossOrigin="Anonymous",t.src=this.props.img,t.onload=function(){e.setState(Object(l.a)({},e.state,{image:t}),function(){e.myImage.cache(),e.myImage.getLayer().batchDraw()})}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.props.active?s.a.createElement(U.Image,{name:this.props.imgName,image:this.state.image,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,scaleX:this.props.scaleX,scaleY:this.props.scaleY,rotation:this.props.rotation,onDragEnd:function(t){return e.props.dragPosition(t)},opacity:parseFloat(this.props.opacity),hue:+this.props.hue,saturation:parseFloat(this.props.saturation),value:parseFloat(this.props.value),filters:[T.a.Filters.HSV],ref:function(t){e.myImage=t},onTransform:function(t){return e.props.transform(t)},draggable:!0}):null)}}]),t}(n.Component),D=(a(136),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleStageMouseDown=function(e){if(e.target!==e.target.getStage()){if(!("Transformer"===e.target.getParent().className)){var t=e.target.attrs.name;a.state.images.find(function(e){return e.imgName===t})?a.setState(Object(l.a)({},a.state,{selectedShapeName:t})):a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))}}else a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))},a.state={images:[{imgName:"image1"},{imgName:"image2"}],selectedShapeName:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.myGroup.clipFunc(function(e){e.lineTo(114,80),e.lineTo(179,55),e.moveTo(179,55),e.bezierCurveTo(179,100,309,100,309,54),e.lineTo(371,75),e.lineTo(383,84),e.lineTo(409,120),e.lineTo(444,181),e.lineTo(441,188),e.lineTo(427,201),e.lineTo(391,222),e.lineTo(372,230),e.lineTo(355,206),e.lineTo(358,440),e.lineTo(356,442),e.lineTo(301,445),e.lineTo(180,445),e.lineTo(127,440),e.lineTo(129,403),e.lineTo(130,329),e.lineTo(128,209),e.lineTo(114,233),e.lineTo(90,223),e.lineTo(53,199),e.lineTo(44,191),e.lineTo(42,184),e.lineTo(95,95),e.lineTo(104,86),e.lineTo(114,80)})}},{key:"componentDidUpdate",value:function(){var e=this.transformer.getStage(),t=this.state.selectedShapeName,a=e.findOne("."+t);a!==this.transformer.node()&&(a?this.transformer.attachTo(a):this.transformer.detach(),this.transformer.getLayer().batchDraw())}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(U.Stage,{width:480,height:480,onMouseDown:function(t){return e.handleStageMouseDown(t)}},s.a.createElement(U.Layer,null,s.a.createElement(Y,{filters:[T.a.Filters.RGB],blue:this.props.blue,red:this.props.red,green:this.props.green})),s.a.createElement(U.Layer,null,s.a.createElement(U.Group,{ref:function(t){return e.myGroup=t}},s.a.createElement(X,{active:this.props.active1,imgName:this.state.images[0].imgName,img:this.props.imageUrl1,x:this.props.x1,y:this.props.y1,scaleX:this.props.scaleX1,scaleY:this.props.scaleY1,rotation:this.props.rotation1,opacity:this.props.opacity1,filters:[T.a.Filters.HSV],hue:this.props.hue1,saturation:this.props.saturation1,value:this.props.value1,dragPosition:function(t){return e.props.dragPosition1(t)},transform:function(t){return e.props.transform1(t)}}),s.a.createElement(X,{active:this.props.active2,imgName:this.state.images[1].imgName,img:this.props.imageUrl2,x:this.props.x2,y:this.props.y2,scaleX:this.props.scaleX2,scaleY:this.props.scaleY2,rotation:this.props.rotation2,opacity:this.props.opacity2,filters:[T.a.Filters.HSV],hue:this.props.hue2,saturation:this.props.saturation2,value:this.props.value2,dragPosition:function(t){return e.props.dragPosition2(t)},transform:function(t){return e.props.transform2(t)}}),s.a.createElement(U.Text,{id:"text1",x:+this.props.textX1,y:+this.props.textY1,fontSize:+this.props.textSize1,fontFamily:this.props.textFamily1,fill:this.props.textFill1,allign:"center",fontStyle:this.props.textStyle1,text:this.props.text1,draggable:!0,onDragEnd:function(t){return e.props.dragText1(t)}}),s.a.createElement(U.Text,{id:"text2",x:+this.props.textX2,y:+this.props.textY2,fontSize:+this.props.textSize2,fontFamily:this.props.textFamily2,fill:this.props.textFill2,allign:"center",fontStyle:this.props.textStyle2,text:this.props.text2,draggable:!0,onDragEnd:function(t){return e.props.dragText2(t)}}),s.a.createElement(U.Text,{id:"text3",x:+this.props.textX3,y:+this.props.textY3,fontSize:+this.props.textSize3,fontFamily:this.props.textFamily3,fill:this.props.textFill3,allign:"center",fontStyle:this.props.textStyle3,text:this.props.text3,draggable:!0,onDragEnd:function(t){return e.props.dragText3(t)}}),s.a.createElement(U.Transformer,{ref:function(t){return e.transformer=t}})))))}}]),t}(n.Component)),z=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.blue),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"control-structure"},s.a.createElement("div",{className:"controlRGB light-blue controles-box"},s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"red"},"Red:"),s.a.createElement("input",{id:"red",type:"range",min:"0",max:"255",step:"1",defaultValue:"255",onChange:function(t){return e.props.rgbValue(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"green"},"Green:"),s.a.createElement("input",{id:"green",type:"range",min:"0",max:"255",step:"1",defaultValue:"255",onChange:function(t){return e.props.rgbValue(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"blue"},"Blue:"),s.a.createElement("input",{id:"blue",type:"range",min:"0",max:"255",step:"1",defaultValue:"255",onChange:function(t){return e.props.rgbValue(t)}}))),s.a.createElement("div",{className:"controlRGB light-blue controles-box"},s.a.createElement("div",{className:"btn-control-box"},s.a.createElement("h5",{id:"firstImage"},"First image"),s.a.createElement("button",{type:"button",name:"firstImage",onClick:function(){return e.props.showWidget()},className:"btn-control purple cursor"},"Upload"),s.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteImage()},className:"btn-control red cursor"},"Delete")),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"opacity1"},"Opacity:"),s.a.createElement("input",{id:"opacity1",type:"range",min:"0",max:"1",step:"0.1",defaultValue:"1",onChange:function(t){return e.props.effects(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"Hue1"},"Hue:"),s.a.createElement("input",{id:"hue1",type:"range",min:"0",max:"259",step:"1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"saturation1"},"Saturation:"),s.a.createElement("input",{id:"saturation1",type:"range",min:"-2",max:"10",step:"0.5",defaultValue:"0",onChange:function(t){return e.props.effects(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"value1"},"Value:"),s.a.createElement("input",{id:"value1",type:"range",min:"-2",max:"2",step:"0.1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}}))),s.a.createElement("div",{className:"controlRGB light-blue controles-box"},s.a.createElement("div",{className:"btn-control-box"},s.a.createElement("h5",{id:"secondImage"},"Second image"),s.a.createElement("button",{type:"button",name:"secondImage",onClick:function(){return e.props.showWidget2()},className:"btn-control purple cursor"},"Upload"),s.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteImage2()},className:"btn-control red cursor"},"delete")),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"opacity2"},"Opacity:"),s.a.createElement("input",{id:"opacity2",type:"range",min:"0",max:"1",step:"0.1",defaultValue:"1",onChange:function(t){return e.props.effects(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"Hue2"},"Hue:"),s.a.createElement("input",{id:"hue2",type:"range",min:"0",max:"259",step:"1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"saturation2"},"Saturation:"),s.a.createElement("input",{id:"saturation2",type:"range",min:"-2",max:"10",step:"0.5",defaultValue:"0",onChange:function(t){return e.props.effects(t)}})),s.a.createElement("div",{className:"range-control"},s.a.createElement("label",{htmlFor:"value2"},"Value:"),s.a.createElement("input",{id:"value2",type:"range",min:"-2",max:"2",step:"0.1",defaultValue:"0",onChange:function(t){return e.props.effects(t)}}))),s.a.createElement("div",{className:"controlRGB light-blue controles-box"},s.a.createElement("div",{className:"btn-control-box"},s.a.createElement("h5",{htmlFor:"text1"},"First Text:"),s.a.createElement("input",{className:"input-control",id:"text1",type:"text",defaultValue:"",onChange:function(t){return e.props.text(t)}})),s.a.createElement("div",{className:"text-control bottom"},s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textFill1"},"Color:"),s.a.createElement("select",{id:"textFill1",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"black",defaultValue:!0},"Black"),s.a.createElement("option",{value:"white"},"White"),s.a.createElement("option",{value:"red"},"Red"),s.a.createElement("option",{value:"green"},"Green"),s.a.createElement("option",{value:"blue"},"Blue"),s.a.createElement("option",{value:"yellow"},"Yellow"),s.a.createElement("option",{value:"purple"},"Purple"))),s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textFamily1"},"Font-family:"),s.a.createElement("select",{id:"textFamily1",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"Oxygen",defaultValue:!0},"Oxygen"),s.a.createElement("option",{value:"Montserrat"},"Montserrat"),s.a.createElement("option",{value:"Poppins"},"Poppins"),s.a.createElement("option",{value:"Roboto"},"Roboto"),s.a.createElement("option",{value:"Rubik"},"Rubik")))),s.a.createElement("div",{className:"text-control"},s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textSize1"},"Size:"),s.a.createElement("input",{id:"textSize1",className:"text-size-control",type:"text",defaultValue:"20",onChange:function(t){return e.props.text(t)}})),s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textStyle1"},"Style:"),s.a.createElement("select",{id:"textStyle1",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"normal",defaultValue:!0},"Normal"),s.a.createElement("option",{value:"bold"},"Bold"),s.a.createElement("option",{value:"italic"},"Italic"))))),s.a.createElement("div",{className:"controlRGB light-blue controles-box"},s.a.createElement("div",{className:"btn-control-box"},s.a.createElement("h5",{htmlFor:"text2"},"Second Text:"),s.a.createElement("input",{className:"input-control",id:"text2",type:"text",defaultValue:"",onChange:function(t){return e.props.text(t)}})),s.a.createElement("div",{className:"text-control bottom"},s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textFill2"},"Color:"),s.a.createElement("select",{id:"textFill2",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"black",defaultValue:!0},"Black"),s.a.createElement("option",{value:"white"},"White"),s.a.createElement("option",{value:"red"},"Red"),s.a.createElement("option",{value:"green"},"Green"),s.a.createElement("option",{value:"blue"},"Blue"),s.a.createElement("option",{value:"yellow"},"Yellow"),s.a.createElement("option",{value:"purple"},"Purple"))),s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textFamily2"},"Font-family:"),s.a.createElement("select",{id:"textFamily2",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"Oxygen",defaultValue:!0},"Oxygen"),s.a.createElement("option",{value:"Montserrat"},"Montserrat"),s.a.createElement("option",{value:"Poppins"},"Poppins"),s.a.createElement("option",{value:"Roboto"},"Roboto"),s.a.createElement("option",{value:"Rubik"},"Rubik")))),s.a.createElement("div",{className:"text-control"},s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textSize2"},"Size:"),s.a.createElement("input",{id:"textSize2",className:"text-size-control",type:"text",defaultValue:"20",onChange:function(t){return e.props.text(t)}})),s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textStyle2"},"Style:"),s.a.createElement("select",{id:"textStyle2",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"normal",defaultValue:!0},"Normal"),s.a.createElement("option",{value:"bold"},"Bold"),s.a.createElement("option",{value:"italic"},"Italic"))))),s.a.createElement("div",{className:"controlRGB light-blue controles-box"},s.a.createElement("div",{className:"btn-control-box"},s.a.createElement("h5",{htmlFor:"text3"},"Third Text:"),s.a.createElement("input",{className:"input-control",id:"text3",type:"text",defaultValue:"",onChange:function(t){return e.props.text(t)}})),s.a.createElement("div",{className:"text-control bottom"},s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textFill3"},"Color:"),s.a.createElement("select",{id:"textFill3",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"black",defaultValue:!0},"Black"),s.a.createElement("option",{value:"white"},"White"),s.a.createElement("option",{value:"red"},"Red"),s.a.createElement("option",{value:"green"},"Green"),s.a.createElement("option",{value:"blue"},"Blue"),s.a.createElement("option",{value:"yellow"},"Yellow"),s.a.createElement("option",{value:"purple"},"Purple"))),s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textFamily3"},"Font-family:"),s.a.createElement("select",{id:"textFamily3",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"Oxygen",defaultValue:!0},"Oxygen"),s.a.createElement("option",{value:"Montserrat"},"Montserrat"),s.a.createElement("option",{value:"Poppins"},"Poppins"),s.a.createElement("option",{value:"Roboto"},"Roboto"),s.a.createElement("option",{value:"Rubik"},"Rubik")))),s.a.createElement("div",{className:"text-control"},s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textSize3"},"Size:"),s.a.createElement("input",{id:"textSize3",className:"text-size-control",type:"text",defaultValue:"20",onChange:function(t){return e.props.text(t)}})),s.a.createElement("div",{className:"text-control-inside"},s.a.createElement("label",{htmlFor:"textStyle3"},"Style:"),s.a.createElement("select",{id:"textStyle3",onChange:function(t){return e.props.text(t)}},s.a.createElement("option",{value:"normal",defaultValue:!0},"Normal"),s.a.createElement("option",{value:"bold"},"Bold"),s.a.createElement("option",{value:"italic"},"Italic")))))))}}]),t}(n.Component),I=function e(){var t=this;Object(o.a)(this,e),this.saveDesign=function(e,a,n,s,r,i,l,o,c,u,m){return t.service.post("/save-design",{userId:e,type:a,designName:n,red:s,green:r,blue:i,image1:l,image2:o,text1:c,text2:u,text3:m}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.allTShirt=function(e){return t.service.post("/all-tShirt",{userId:e}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.allOldOrders=function(e){return t.service.post("/all-old-orders",{userId:e}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.addQuanity=function(e,a){return t.service.post("/add-quantity",{quantity:e,designId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.delete=function(e,a){return t.service.post("/delete-design",{id:e,userId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.uploadDesign=function(e){return t.service.get("/design/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.updateDesign=function(e,a,n,s,r,i,l,o,c,u){return t.service.post("/edit-design",{designId:e,designName:a,red:n,green:s,blue:r,image1:i,image2:l,text1:o,text2:c,text3:u}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.addMoneyToPay=function(e,a){return t.service.post("/add-toPay",{designId:e,toPayOne:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.buy=function(e,a){return t.service.post("/buy",{userId:e,arrDesign:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.moveToCart=function(e,a){return t.service.post("/move-to-cart",{userId:e,oldOrderId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=g.a.create({baseURL:"https://cloding-app.herokuapp.com/api",withCredentials:!0})},P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).saveDesign=function(e){e.preventDefault();var t=a.props.user._id,n=a.state.designName,s=a.state.red,r=a.state.green,i=a.state.blue,l={url:a.state.imageUrlFix1,active:a.state.active1,opacity:a.state.opacity1,hue:a.state.hue1,value:a.state.value1,saturation:a.state.saturation1,x:a.state.x1,y:a.state.y1,scaleX:a.state.scaleX1,scaleY:a.state.scaleY1,rotation:a.state.rotation1},o={url:a.state.imageUrlFix2,active:a.state.active2,opacity:a.state.opacity2,hue:a.state.hue2,value:a.state.value2,saturation:a.state.saturation1,x:a.state.x2,y:a.state.y2,scaleX:a.state.scaleX2,scaleY:a.state.scaleY2,rotation:a.state.rotation2},c={text:a.state.text1,x:a.state.textX1,y:a.state.textY1,fill:a.state.textFill1,family:a.state.textFamily1,size:a.state.textSize1,style:a.state.textStyle1},u={text:a.state.text2,x:a.state.textX2,y:a.state.textY2,fill:a.state.textFill2,family:a.state.textFamily2,size:a.state.textSize2,style:a.state.textStyle2},m={text:a.state.text3,x:a.state.textX3,y:a.state.textY3,fill:a.state.textFill3,family:a.state.textFamily3,size:a.state.textSize3,style:a.state.textStyle3};a.service.saveDesign(t,"t-shirt",n,s,r,i,l,o,c,u,m).then(function(){a.props.history.push("/cart")}).catch(function(e){return console.log(e)})},a.handleDragEnd1=function(e){a.setState(Object(l.a)({},a.state,{x1:e.target.x(),y1:e.target.y()}))},a.handleDragEnd2=function(e){a.setState(Object(l.a)({},a.state,{x2:e.target.x(),y2:e.target.y()}))},a.handleDragEndText1=function(e){a.setState(Object(l.a)({},a.state,{textX1:e.target.attrs.x,textY1:e.target.attrs.y}))},a.handleDragEndText2=function(e){a.setState(Object(l.a)({},a.state,{textX2:e.target.attrs.x,textY2:e.target.attrs.y}))},a.handleDragEndText3=function(e){a.setState(Object(l.a)({},a.state,{textX3:e.target.attrs.x,textY3:e.target.attrs.y}))},a.state={designName:"",red:"255",blue:"255",green:"255",imageUrl1:"",imageUrl2:"",imageUrlFix1:"",imageUrlFix2:"",active1:!1,active2:!1,x1:190,y1:150,x2:190,y2:150,opacity1:1,opacity2:1,scaleX1:1,scaleY1:1,scaleX2:1,scaleY2:1,rotation1:0,rotation2:0,hue1:0,saturation1:0,value1:0,hue2:0,saturation2:0,value2:0,text1:"",textFill1:"black",textFamily1:"Oxygen",textSize1:"20",textStyle1:"normal",textX1:"190",textY1:"150",text2:"",textFill2:"black",textFamily2:"Oxygen",textSize2:"20",textStyle2:"normal",textX2:"190",textY2:"150",text3:"",textFill3:"black",textFamily3:"Oxygen",textSize3:"20",textStyle3:"normal",textX3:"190",textY3:"150"},a.service=new I,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(b.a)({},a,n)))}},{key:"text",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(b.a)({},a,n)))}},{key:"effects",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(b.a)({},a,n)))}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl1:e.info.secure_url,active1:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix1:e.info.secure_url}))}},{key:"checkUploadResult2",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl2:e.info.secure_url,active2:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix2:e.info.secure_url}))}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset",cropping:!0},function(t,a){e.checkUploadResult(a)}).open()}},{key:"showWidget2",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset",cropping:!0},function(t,a){e.checkUploadResult2(a)}).open()}},{key:"deleteImage",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix1:"",active1:!1,x1:190,y1:150,scaleX1:1,scaleY1:1,opacity1:1,hue1:0,saturation1:0,value1:0,rotation1:0}))}},{key:"deleteImage2",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix2:"",active2:!1,x2:190,y2:150,scaleX2:1,scaleY2:1,opacity2:1,hue2:0,saturation2:0,value2:0,rotation2:0}))}},{key:"handleTransform1",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX1:e.currentTarget.attrs.scaleX,scaleY1:e.currentTarget.attrs.scaleY,rotation1:e.currentTarget.attrs.rotation}))}},{key:"handleTransform2",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX2:e.currentTarget.attrs.scaleX,scaleY2:e.currentTarget.attrs.scaleY,rotation2:e.currentTarget.attrs.rotation}))}},{key:"render",value:function(){var e=this;return this.props.user?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container padding-canvas"},s.a.createElement("h2",null,"T-shirt designer"),s.a.createElement(z,{rgbValue:function(t){return e.rgbValue(t)},showWidget:function(){return e.showWidget()},showWidget2:function(){return e.showWidget2()},deleteImage:function(){return e.deleteImage()},deleteImage2:function(){return e.deleteImage2()},text:function(t){return e.text(t)},effects:function(t){return e.effects(t)}}),s.a.createElement("form",{className:"form-save-design",onSubmit:this.saveDesign},s.a.createElement("div",{className:"form-inside-design"},s.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name-canvas",label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}})),s.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),s.a.createElement("div",{className:"half-container"},s.a.createElement(D,{blue:this.state.blue,red:this.state.red,green:this.state.green,text1:this.state.text1,textX1:this.state.textX1,textY1:this.state.textY1,textFill1:this.state.textFill1,textFamily1:this.state.textFamily1,textSize1:this.state.textSize1,textStyle1:this.state.textStyle1,text2:this.state.text2,textX2:this.state.textX2,textY2:this.state.textY2,textFill2:this.state.textFill2,textFamily2:this.state.textFamily2,textSize2:this.state.textSize2,textStyle2:this.state.textStyle2,text3:this.state.text3,textX3:this.state.textX3,textY3:this.state.textY3,textFill3:this.state.textFill3,textFamily3:this.state.textFamily3,textSize3:this.state.textSize3,textStyle3:this.state.textStyle3,imageUrl1:this.state.imageUrl1,imageUrl2:this.state.imageUrl2,x1:this.state.x1,y1:this.state.y1,x2:this.state.x2,y2:this.state.y2,scaleX1:this.state.scaleX1,scaleY1:this.state.scaleY1,scaleX2:this.state.scaleX2,scaleY2:this.state.scaleY2,rotation1:this.state.rotation1,rotation2:this.state.rotation2,active1:this.state.active1,active2:this.state.active2,opacity1:this.state.opacity1,opacity2:this.state.opacity2,hue1:this.state.hue1,saturation1:this.state.saturation1,value1:this.state.value1,hue2:this.state.hue2,saturation2:this.state.saturation2,value2:this.state.value2,dragPosition1:function(t){return e.handleDragEnd1(t)},dragPosition2:function(t){return e.handleDragEnd2(t)},transform1:function(t){return e.handleTransform1(t)},transform2:function(t){return e.handleTransform2(t)},dragText1:function(t){return e.handleDragEndText1(t)},dragText2:function(t){return e.handleDragEndText2(t)},dragText3:function(t){return e.handleDragEndText3(t)}}))))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container padding-canvas"},s.a.createElement("h2",null,"T-shirt designer"),s.a.createElement(z,{rgbValue:function(t){return e.rgbValue(t)},showWidget:function(){return e.showWidget()},showWidget2:function(){return e.showWidget2()},deleteImage:function(){return e.deleteImage()},deleteImage2:function(){return e.deleteImage2()},text:function(t){return e.text(t)},effects:function(t){return e.effects(t)}}),s.a.createElement("div",{className:"demo-advisor"},s.a.createElement("h5",null,"This is a demo version, for buy your creation you must be logged in."))),s.a.createElement("div",{className:"half-container"},s.a.createElement(D,{blue:this.state.blue,red:this.state.red,green:this.state.green,text1:this.state.text1,textX1:this.state.textX1,textY1:this.state.textY1,textFill1:this.state.textFill1,textFamily1:this.state.textFamily1,textSize1:this.state.textSize1,textStyle1:this.state.textStyle1,text2:this.state.text2,textX2:this.state.textX2,textY2:this.state.textY2,textFill2:this.state.textFill2,textFamily2:this.state.textFamily2,textSize2:this.state.textSize2,textStyle2:this.state.textStyle2,text3:this.state.text3,textX3:this.state.textX3,textY3:this.state.textY3,textFill3:this.state.textFill3,textFamily3:this.state.textFamily3,textSize3:this.state.textSize3,textStyle3:this.state.textStyle3,imageUrl1:this.state.imageUrl1,imageUrl2:this.state.imageUrl2,x1:this.state.x1,y1:this.state.y1,x2:this.state.x2,y2:this.state.y2,scaleX1:this.state.scaleX1,scaleY1:this.state.scaleY1,scaleX2:this.state.scaleX2,scaleY2:this.state.scaleY2,rotation1:this.state.rotation1,rotation2:this.state.rotation2,active1:this.state.active1,active2:this.state.active2,opacity1:this.state.opacity1,opacity2:this.state.opacity2,hue1:this.state.hue1,saturation1:this.state.saturation1,value1:this.state.value1,hue2:this.state.hue2,saturation2:this.state.saturation2,value2:this.state.value2,dragPosition1:function(t){return e.handleDragEnd1(t)},dragPosition2:function(t){return e.handleDragEnd2(t)},transform1:function(t){return e.handleTransform1(t)},transform2:function(t){return e.handleTransform2(t)},dragText1:function(t){return e.handleDragEndText1(t)},dragText2:function(t){return e.handleDragEndText2(t)},dragText3:function(t){return e.handleDragEndText3(t)}})))))}}]),t}(n.Component),V=Object(p.f)(P),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).updateDesign=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state.designName,s=a.state.red,r=a.state.green,i=a.state.blue,l={url:a.state.imageUrlFix1,active:a.state.active1,opacity:a.state.opacity1,hue:a.state.hue1,value:a.state.value1,saturation:a.state.saturation1,x:a.state.x1,y:a.state.y1,scaleX:a.state.scaleX1,scaleY:a.state.scaleY1,rotation:a.state.rotation1},o={url:a.state.imageUrlFix2,active:a.state.active2,opacity:a.state.opacity2,hue:a.state.hue2,saturation:a.state.saturation2,x:a.state.x2,y:a.state.y2,scaleX:a.state.scaleX2,scaleY:a.state.scaleY2,rotation:a.state.rotation2},c={text:a.state.text1,x:a.state.textX1,y:a.state.textY1,fill:a.state.textFill1,family:a.state.textFamily1,size:a.state.textSize1,style:a.state.textStyle1},u={text:a.state.text2,x:a.state.textX2,y:a.state.textY2,fill:a.state.textFill2,family:a.state.textFamily2,size:a.state.textSize2,style:a.state.textStyle2},m={text:a.state.text3,x:a.state.textX3,y:a.state.textY3,fill:a.state.textFill3,family:a.state.textFamily3,size:a.state.textSize3,style:a.state.textStyle3};a.service.updateDesign(t,n,s,r,i,l,o,c,u,m).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},a.handleDragEnd1=function(e){a.setState(Object(l.a)({},a.state,{x1:e.target.x(),y1:e.target.y()}))},a.handleDragEnd2=function(e){a.setState(Object(l.a)({},a.state,{x2:e.target.x(),y2:e.target.y()}))},a.handleDragEndText1=function(e){a.setState(Object(l.a)({},a.state,{textX1:e.target.attrs.x,textY1:e.target.attrs.y}))},a.handleDragEndText2=function(e){a.setState(Object(l.a)({},a.state,{textX2:e.target.attrs.x,textY2:e.target.attrs.y}))},a.handleDragEndText3=function(e){a.setState(Object(l.a)({},a.state,{textX3:e.target.attrs.x,textY3:e.target.attrs.y}))},a.state={design:{},designName:"",red:255,blue:255,green:255,imageUrl1:"",imageUrl2:"",imageUrlFix1:"",imageUrlFix2:"",active1:!1,active2:!1,x1:190,y1:150,x2:190,y2:150,opacity1:1,opacity2:1,scaleX1:1,scaleY1:1,scaleX2:1,scaleY2:1,rotation1:0,rotation2:0,hue1:0,saturation1:0,value1:0,hue2:0,saturation2:0,value2:0,text1:"",textFill1:"black",textFamily1:"Oxygen",textSize1:"20",textStyle1:"normal",textX1:"190",textY1:"150",text2:"",textFill2:"black",textFamily2:"Oxygen",textSize2:"20",textStyle2:"normal",textX2:"190",textY2:"150",text3:"",textFill3:"black",textFamily3:"Oxygen",textSize3:"20",textStyle3:"normal",textX3:"190",textY3:"150"},a.service=new I,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.uploadDesign(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(l.a)({},e.state,{design:a}),function(){e.setState(Object(l.a)({},e.state,{designName:e.state.design.designName,red:e.state.design.red,blue:e.state.design.blue,green:e.state.design.green,imageUrl1:e.state.design.image1.url,imageUrl2:e.state.design.image2.url,imageUrlFix1:e.state.design.image1.url,imageUrlFix2:e.state.design.image2.url,active1:e.state.design.image1.active,active2:e.state.design.image2.active,x1:e.state.design.image1.x,y1:e.state.design.image1.y,x2:e.state.design.image2.x,y2:e.state.design.image2.y,opacity1:e.state.design.image1.opacity,opacity2:e.state.design.image2.opacity,scaleX1:e.state.design.image1.scaleX,scaleY1:e.state.design.image1.scaleY,scaleX2:e.state.design.image2.scaleX,scaleY2:e.state.design.image2.scaleY,rotation1:e.state.design.image1.rotation,rotation2:e.state.design.image2.rotation,hue1:e.state.design.image1.hue,saturation1:e.state.design.image1.saturation,value1:e.state.design.image1.value,hue2:e.state.design.image2.hue,saturation2:e.state.design.image2.saturation,value2:e.state.design.image2.value,text1:e.state.design.text1.text,textFill1:e.state.design.text1.fill,textFamily1:e.state.design.text1.family,textSize1:e.state.design.text1.size,textStyle1:e.state.design.text1.style,textX1:e.state.design.text1.x,textY1:e.state.design.text1.y,text2:e.state.design.text2.text,textFill2:e.state.design.text2.fill,textFamily2:e.state.design.text2.family,textSize2:e.state.design.text2.size,textStyle2:e.state.design.text2.style,textX2:e.state.design.text2.x,textY2:e.state.design.text2.y,text3:e.state.design.text3.text,textFill3:e.state.design.text3.fill,textFamily3:e.state.design.text3.family,textSize3:e.state.design.text3.size,textStyle3:e.state.design.text3.style,textX3:e.state.design.text3.x,textY3:e.state.design.text3.y}),function(){e.forceUpdate(),e.setState(Object(l.a)({},e.state,{imageUrl1:"",imageUrl2:""}))})})})}},{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(b.a)({},a,n)))}},{key:"text",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(b.a)({},a,n)))}},{key:"effects",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(l.a)({},this.state,Object(b.a)({},a,n)))}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl1:e.info.secure_url,active1:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix1:e.info.secure_url}))}},{key:"checkUploadResult2",value:function(e){this.setState(Object(l.a)({},this.state,{imageUrl2:e.info.secure_url,active2:!0})),"success"===e.event&&this.setState(Object(l.a)({},this.state,{imageUrlFix2:e.info.secure_url}))}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset",cropping:!0},function(t,a){e.checkUploadResult(a)}).open()}},{key:"showWidget2",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset",cropping:!0},function(t,a){e.checkUploadResult2(a)}).open()}},{key:"deleteImage",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix1:"",active1:!1,x1:190,y1:150,scaleX1:1,scaleY1:1,opacity1:1,hue1:0,saturation1:0,value1:0,rotation1:0}))}},{key:"deleteImage2",value:function(){this.setState(Object(l.a)({},this.state,{imageUrlFix2:"",active2:!1,x2:190,y2:150,scaleX2:1,scaleY2:1,opacity2:1,hue2:0,saturation2:0,value2:0,rotation2:0}))}},{key:"handleTransform1",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX1:e.currentTarget.attrs.scaleX,scaleY1:e.currentTarget.attrs.scaleY,rotation1:e.currentTarget.attrs.rotation}))}},{key:"handleTransform2",value:function(e){this.setState(Object(l.a)({},this.state,{scaleX2:e.currentTarget.attrs.scaleX,scaleY2:e.currentTarget.attrs.scaleY,rotation2:e.currentTarget.attrs.rotation}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container padding-canvas"},s.a.createElement("h2",null,this.state.designName),s.a.createElement(z,{rgbValue:function(t){return e.rgbValue(t)},showWidget:function(){return e.showWidget()},showWidget2:function(){return e.showWidget2()},deleteImage:function(){return e.deleteImage()},deleteImage2:function(){return e.deleteImage2()},text:function(t){return e.text(t)},effects:function(t){return e.effects(t)}}),s.a.createElement("form",{className:"form-save-design",onSubmit:this.updateDesign},s.a.createElement("div",{className:"form-inside-design"},s.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name-canvas",label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}})),s.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),s.a.createElement("div",{className:"half-container"},s.a.createElement(D,{blue:this.state.blue,red:this.state.red,green:this.state.green,text1:this.state.text1,textX1:this.state.textX1,textY1:this.state.textY1,textFill1:this.state.textFill1,textFamily1:this.state.textFamily1,textSize1:this.state.textSize1,textStyle1:this.state.textStyle1,text2:this.state.text2,textX2:this.state.textX2,textY2:this.state.textY2,textFill2:this.state.textFill2,textFamily2:this.state.textFamily2,textSize2:this.state.textSize2,textStyle2:this.state.textStyle2,text3:this.state.text3,textX3:this.state.textX3,textY3:this.state.textY3,textFill3:this.state.textFill3,textFamily3:this.state.textFamily3,textSize3:this.state.textSize3,textStyle3:this.state.textStyle3,imageUrl1:this.state.imageUrl1,imageUrl2:this.state.imageUrl2,x1:this.state.x1,y1:this.state.y1,x2:this.state.x2,y2:this.state.y2,scaleX1:this.state.scaleX1,scaleY1:this.state.scaleY1,scaleX2:this.state.scaleX2,scaleY2:this.state.scaleY2,rotation1:this.state.rotation1,rotation2:this.state.rotation2,active1:this.state.active1,active2:this.state.active2,opacity1:this.state.opacity1,opacity2:this.state.opacity2,hue1:this.state.hue1,saturation1:this.state.saturation1,value1:this.state.value1,hue2:this.state.hue2,saturation2:this.state.saturation2,value2:this.state.value2,dragPosition1:function(t){return e.handleDragEnd1(t)},dragPosition2:function(t){return e.handleDragEnd2(t)},transform1:function(t){return e.handleTransform1(t)},transform2:function(t){return e.handleTransform2(t)},dragText1:function(t){return e.handleDragEndText1(t)},dragText2:function(t){return e.handleDragEndText2(t)},dragText3:function(t){return e.handleDragEndText3(t)}})))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState({user:Object(l.a)({},a.state.user,Object(b.a)({},n,s))})},a.state={user:{username:"",mail:"",country:"",region:"",city:"",direction:"",photouser:""},redirect:!1,photouserTemp:""},a.service=new f,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{user:this.props.user}))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.user);var a=this.state.user.username,n=this.state.user.mail,s=this.state.user.country,r=this.state.user.region,i=this.state.user.city,l=this.state.user.direction,o=this.state.user.photouser,c=this.state.user._id;this.service.editProfile(a,n,s,r,i,l,o,c).then(function(e){t.props.editDates(e)}).catch(function(e){return console.log(e)})}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{photouserTemp:e.info.secure_url})),"success"===e.event&&this.setState({user:Object(l.a)({},this.state.user,{photouser:e.info.secure_url})})}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset",cropping:!0,croppingAspectRatio:1},function(t,a){e.checkUploadResult(a)}).open()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white"},s.a.createElement("div",{className:"half-container overflow padding"},s.a.createElement("h2",null,"Edit profile"),s.a.createElement("form",{className:"form-auth",onSubmit:function(t){return e.handleFormSubmit(t)}},s.a.createElement("div",{className:"input-edit-profile"},s.a.createElement(S,{labelCss:"dispay-none",placeholder:"username",inputCss:"input-auth",label:"Username",type:"text",name:"username",value:this.state.user.username,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"e-mail",inputCss:"input-auth",label:"Email",type:"email",name:"mail",value:this.state.user.mail,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"country",inputCss:"input-auth",label:"Country",type:"text",name:"country",value:this.state.user.country,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"region",inputCss:"input-auth",label:"Region",type:"text",name:"region",value:this.state.user.region,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"city",inputCss:"input-auth",label:"City",type:"text",name:"city",value:this.state.user.city,onchange:function(t){return e.handleChange(t)}}),s.a.createElement(S,{labelCss:"dispay-none",placeholder:"address",inputCss:"input-auth",label:"Address",type:"text",name:"direction",value:this.state.user.direction,onchange:function(t){return e.handleChange(t)}})),s.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),s.a.createElement("div",{className:"half-container photo-profile-container"},s.a.createElement("div",{className:"profile-page-image"},s.a.createElement("img",{src:this.state.user.photouser,alt:"profile"}),s.a.createElement("button",{type:"button",name:"firstImage",onClick:function(){return e.showWidget()},className:"btn light-blue cursor"},"Change"))))))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={active:!0,toPay:0},a.service=new I,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{quantity:this.props.tShirt.quantity}))}},{key:"quantity",value:function(e){var t=this;e.preventDefault();var a=this.state.quantity,n=this.props.tShirt._id;this.service.addQuanity(a,n).then().catch(function(e){return console.log(e)});var s=30*a;this.service.addMoneyToPay(n,s).then(function(){t.service.allTShirt(t.props.user._id).then(function(e){var a=e.tShirt.reduce(function(e,t){return e+t.price},0);t.props.totalAmounts(a)})}).catch(function(e){return console.log(e)})}},{key:"changeQuantiy",value:function(e){this.setState(Object(l.a)({},this.state,{quantity:e.target.value}))}},{key:"delete",value:function(e){var t=this;e.preventDefault(),this.service.delete(this.props.tShirt._id,this.props.user._id).then(function(){t.service.allTShirt(t.props.user._id).then(function(e){var a=e.tShirt.reduce(function(e,t){return e+t.price},0);t.props.totalAmounts(a)}),t.setState(Object(l.a)({},t.state,{active:!1}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.active?s.a.createElement("div",{className:"cart-product"},s.a.createElement("div",{className:"nameDesignList"},s.a.createElement("h4",null,"Name: ",s.a.createElement("span",{className:"f700"},this.props.tShirt.designName))),s.a.createElement("h5",null,"type: ",s.a.createElement("span",{className:"f700"},this.props.tShirt.type)),s.a.createElement("form",{class:"form-cart",onSubmit:function(t){return e.quantity(t)}},s.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name",label:"Quantity",type:"number",name:"quantity",value:this.state.quantity,onchange:function(t){return e.changeQuantiy(t)}}),s.a.createElement("input",{type:"submit",className:"btn-quatity orange cursor",value:"Add"})),s.a.createElement(x.b,{className:"btn-cart purple",to:"/canvas/edit/".concat(this.props.tShirt._id)},"Edit"),s.a.createElement("button",{className:"btn-cart red cursor",onClick:function(t){return e.delete(t)}},"Delete")):null)}}]),t}(n.Component),B=(a(137),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={tShirts:[],toPay:0},a.service=new I,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.allTShirt(this.props.user._id).then(function(t){var a=t.tShirt,n=a.reduce(function(e,t){return e+t.price},0);e.setState(Object(l.a)({},e.state,{tShirts:a,toPay:n}))})}},{key:"totalAmounts",value:function(e){this.setState(Object(l.a)({},this.state,{toPay:e}))}},{key:"buy",value:function(e){var t=this;e.preventDefault(),this.service.buy(this.props.user._id,this.state.tShirts).then(function(){t.setState(Object(l.a)({},t.service,{tShirts:[],toPay:0}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.tShirts.map(function(t,a){return s.a.createElement("li",{key:a},s.a.createElement(W,{tShirt:t,user:e.props.user,totalAmounts:function(t){return e.totalAmounts(t)}}))});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white cart-box padding-canvas"},s.a.createElement("div",{className:"cartContainer"},s.a.createElement("ul",null,t)),s.a.createElement("div",{className:"cart-toPay"},s.a.createElement("h4",null,"Total amount: ",s.a.createElement("span",{className:"f700"},this.state.toPay),"\u20ac"),s.a.createElement("button",{className:"btn orange cursor",onClick:function(t){return e.buy(t)}},"Buy")))))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a.service=new I,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"moveToCart",value:function(e){e.preventDefault(),this.service.moveToCart(this.props.user._id,this.props.oldOrder._id).then().catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"cart-product"},s.a.createElement("div",{className:"nameDesignList"},s.a.createElement("h4",null,"Name: ",s.a.createElement("span",{className:"f700"},this.props.oldOrder.designName))),s.a.createElement("h5",null,"type: ",s.a.createElement("span",{className:"f700"},this.props.oldOrder.type)),s.a.createElement("p",{className:"label-design-name"},"Quantity: ",s.a.createElement("span",{className:"f700"},this.props.oldOrder.quantity)),s.a.createElement("p",{className:"label-design-name"},"Price: ",s.a.createElement("span",{className:"f700"},this.props.oldOrder.price),"\u20ac"),s.a.createElement("button",{className:"btn-cart orange cursor",onClick:function(t){return e.moveToCart(t)}},"Cart")))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={oldOrders:[],payments:0},a.service=new I,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.allOldOrders(this.props.user._id).then(function(t){var a=t.buy,n=a.reduce(function(e,t){return e+t.price},0);e.setState(Object(l.a)({},e.state,{oldOrders:a,payments:n}))})}},{key:"render",value:function(){var e=this,t=this.state.oldOrders.map(function(t,a){return s.a.createElement("li",{key:a},s.a.createElement(M,{oldOrder:t,user:e.props.user}))});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pageStructure"},s.a.createElement("div",{className:"container white cart-box padding-canvas"},s.a.createElement("div",{className:"cartContainer"},s.a.createElement("ul",null,t)),s.a.createElement("div",{className:"cart-toPay"},s.a.createElement("h4",null,"Total orders: ",s.a.createElement("span",{className:"f700"},this.state.payments,"\u20ac"))))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).fetchUser=function(){a.service.loggedin().then(function(e){console.log(e),a.setState({loggedInUser:e})}).catch(function(e){return a.setState({loggedInUser:!1})})},a.setTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new f,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logoutUser",value:function(){this.setState(Object(l.a)({},this.state,{loggedInUser:null}))}},{key:"editUser",value:function(e){this.setState(Object(l.a)({},this.state,{loggedInUser:e}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement(F,{user:this.state.loggedInUser,logout:function(){return e.logoutUser()}}),s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/",component:v}),s.a.createElement(p.b,{exact:!0,path:"/designer",component:w}),s.a.createElement(p.b,{exact:!0,path:"/canvas",render:function(t){return s.a.createElement(V,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(p.b,{exact:!0,path:"/profile/",render:function(t){return s.a.createElement(E,Object.assign({},t,{logout:function(){return e.logoutUser()},user:e.state.loggedInUser}))}}),s.a.createElement(p.b,{exact:!0,path:"/profile/edit",render:function(t){return s.a.createElement(_,Object.assign({},t,{user:e.state.loggedInUser,editDates:function(t){return e.editUser(t)}}))}}),s.a.createElement(p.b,{exact:!0,path:"/cart",render:function(t){return s.a.createElement(B,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(p.b,{exact:!0,path:"/old-orders",render:function(t){return s.a.createElement(G,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(p.b,{exact:!0,path:"/canvas/edit/:id",render:function(t){return s.a.createElement(R,Object.assign({},t,{user:e.state.loggedInUser}))}}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(F,{user:this.state.loggedInUser}),s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/",component:v}),s.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return s.a.createElement(O,Object.assign({},t,{setUser:e.setTheUser,userInSession:e.state.loggedInUser}))}}),s.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return s.a.createElement(N,Object.assign({},t,{setUser:e.setTheUser,userInSession:e.state.loggedInUser}))}}),s.a.createElement(p.b,{exact:!0,path:"/designer",component:w}),s.a.createElement(p.b,{exact:!0,path:"/canvas",render:function(t){return s.a.createElement(V,Object.assign({},t,{user:e.state.loggedInUser}))}})))}}]),t}(n.Component);i.a.render(s.a.createElement(x.a,null,s.a.createElement(L,null)),document.getElementById("root"))},44:function(e,t,a){},55:function(e,t,a){e.exports=a(138)},59:function(e,t,a){},60:function(e,t,a){},80:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.2a6dfb75.chunk.js.map