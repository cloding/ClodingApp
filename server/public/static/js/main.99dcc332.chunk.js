(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(53),i=a.n(s),l=(a(61),a(6)),o=a(1),c=a(2),u=a(4),m=a(3),h=a(5),p=(a(62),a(22)),g=a(28),d=a.n(g),v=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n,r,s,i,l,o,c,u,m){return t.service.post("/signup",{username:e,password:a,mail:n,country:r,region:s,city:i,direction:l,tShirt:o,buy:c,photouser:u,role:m}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})},this.editProfile=function(e,a,n,r,s,i,l,o){return t.service.post("/edit",{username:e,mail:a,country:n,region:r,city:s,direction:i,photouser:l,id:o}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.delete=function(e){return t.service.post("/delete",{id:e}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=d.a.create({baseURL:"https://cloding-app.herokuapp.com/api",withCredentials:!0})},f=a(11),x=(a(82),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"half-container home"},r.a.createElement("h1",null,"Create your clothes with coding!"),r.a.createElement("div",{className:"text-home-center"},r.a.createElement("p",null,"Cloding is the first page that allows you to create and edit T-shirts, sweatshirts and pants directly with programming. Give space to your imagination!")),r.a.createElement(f.b,{className:"btn purple",to:"/designer"},"Designer")),r.a.createElement("div",{className:"half-container home-right"},r.a.createElement("img",{src:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557993277/Cloding/wear/homeIPad_Tavola_disegno_1_ntd2ah.png",alt:"ipad-model"})))))}}]),t}(n.Component)),y=(a(44),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).service=new v,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"delete",value:function(e){var t=this;e.preventDefault(),this.service.delete(this.props.user._id).then(function(){t.props.logout(),t.props.history.push("/")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"user"!==this.props.user.role?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Admin"),r.a.createElement(f.b,{className:"btn purple",to:"/designer"},"Designer")),r.a.createElement("div",{className:"half-container"},r.a.createElement("h1",null,"Home"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding"},r.a.createElement("h2",null,this.props.user.username),r.a.createElement("ul",{className:"profile-list"},r.a.createElement("li",null,"email: ",r.a.createElement("span",{className:"f700"},this.props.user.mail)),r.a.createElement("li",null,"nation: ",r.a.createElement("span",{className:"f700"},this.props.user.country)),r.a.createElement("li",null,"region: ",r.a.createElement("span",{className:"f700"},this.props.user.region)),r.a.createElement("li",null,"city: ",r.a.createElement("span",{className:"f700"},this.props.user.city)),r.a.createElement("li",null,"address: ",r.a.createElement("span",{className:"f700"},this.props.user.city))),r.a.createElement("div",{className:"profile-page-btn"},r.a.createElement("div",{className:"profile-btn-line"},r.a.createElement(f.b,{className:"btn orange",to:"/old-orders"},"Old orders")),r.a.createElement("div",{className:"profile-btn-line"},r.a.createElement(f.b,{className:"btn purple cursor",to:"/profile/edit"},"Edit profile"),r.a.createElement("button",{className:"btn red",onClick:function(t){return e.delete(t)}},"Delete")))),r.a.createElement("div",{className:"half-container photo-profile-container"},r.a.createElement("div",{className:"profile-page-image"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.user.photouser,")")}}))))))}}]),t}(n.Component)),b=Object(p.f)(y),E=a(21),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:this.props.labelCss},this.props.label,":"),r.a.createElement("input",{placeholder:this.props.placeholder,className:this.props.inputCss,type:this.props.type,name:this.props.name,defaultValue:this.props.value,onChange:this.props.onchange}))}}]),t}(n.Component),N=(a(91),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:"",logged:!0},function(){return a.props.setUser(e)})}).catch(function(e){console.log(e),a.setState({error:e.response.data.message})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:"",logged:!1,error:""},a.service=new v,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.logged?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{className:"form-auth",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("div",{className:"input-login"},r.a.createElement(S,{labelCss:"dispay-none",placeholder:"username",inputCss:"input-auth",type:"text",name:"username",value:this.state.username,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"password",inputCss:"input-auth",type:"password",name:"password",value:this.state.password,onchange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Login"}))),r.a.createElement("div",{className:"half-container padding auth-right"},r.a.createElement("div",{className:"link-auth-text"},r.a.createElement("h4",null,"You don't have an account yet? ",r.a.createElement("span",{className:"link-auth"},r.a.createElement(f.b,{to:"/signup"},"Register here.")))),r.a.createElement("div",{className:"logoAuth"},r.a.createElement("img",{src:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557993914/Cloding/wear/logoOpacity_unnxum.png",alt:"logo Cloding"}))))))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.user.username,n=a.state.user.password,r=a.state.user.tShirt,s=a.state.user.buy,i=a.state.user.photouser,l=a.state.user.role,o=a.state.user.mail,c=a.state.user.country,u=a.state.user.region,m=a.state.user.city,h=a.state.user.direction;a.service.signup(t,n,o,c,u,m,h,r,s,i,l).then(function(e){a.setState({username:"",password:"",mail:"",country:"",region:"",city:"",direction:"",logged:!0},function(){return a.props.setUser(e)})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(l.a)({},a.state.user,Object(E.a)({},n,r))})},a.state={user:{username:"",password:"",mail:"",country:"",region:"",city:"",direction:"",tShirt:[],buy:[],photouser:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",role:"user"},logged:!1,error:""},a.service=new v,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.logged?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container overflow padding"},r.a.createElement("h2",null,"Sign up"),r.a.createElement("form",{className:"form-auth",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-sign-up"},r.a.createElement(S,{labelCss:"dispay-none",placeholder:"username",inputCss:"input-auth",type:"text",name:"username",value:this.state.username,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"password",inputCss:"input-auth",type:"password",name:"password",value:this.state.password,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"e-mail",inputCss:"input-auth",type:"email",name:"mail",value:this.state.mail,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"country",inputCss:"input-auth",type:"text",name:"country",value:this.state.country,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"region",inputCss:"input-auth",type:"text",name:"region",value:this.state.region,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"city",inputCss:"input-auth",type:"text",name:"city",value:this.state.city,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"address",inputCss:"input-auth",type:"text",name:"direction",value:this.state.direction,onchange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Signup"}))),r.a.createElement("div",{className:"half-container padding auth-right"},r.a.createElement("div",{className:"link-auth-text"},r.a.createElement("h4",null,"You already have an account? ",r.a.createElement("span",{className:"link-auth"},r.a.createElement(f.b,{to:"/login"}," Login here.")))),r.a.createElement("div",{className:"logoAuth"},r.a.createElement("img",{src:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557993914/Cloding/wear/logoOpacity_unnxum.png",alt:"logo Cloding"}))))))}}]),t}(n.Component),T=(a(92),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).service=new v,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(e){var t=this;e.preventDefault(),this.service.logout().then(function(){t.props.logout(),t.props.history.push("/")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return null!=this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar"},r.a.createElement("h2",null,r.a.createElement(f.b,{to:"/"},"Cloding")),r.a.createElement("ul",null,r.a.createElement("li",{className:"cursor",onClick:function(t){return e.logout(t)}},"Logout"),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/profile",className:"link-photo-profile"},this.props.user.username,r.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.user.photouser,")")}}))),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"}))),r.a.createElement("li",null,r.a.createElement(f.b,{className:"btn purple",to:"/designer"},"Designer")))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar"},r.a.createElement("h2",null,r.a.createElement(f.b,{to:"/"},"Cloding")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/signup"},"Register")),r.a.createElement("li",null,r.a.createElement(f.b,{className:"btn purple",to:"/designer"},"Designer"))))))}}]),t}(n.Component)),k=Object(p.f)(T),w=(a(93),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding"},r.a.createElement("h2",null,"Create a new ",this.props.cloth," "),r.a.createElement("div",{className:"text-home-center"},r.a.createElement("p",null,this.props.clothText),r.a.createElement("h4",{className:"price-selector"},"Price: ",r.a.createElement("span",{className:"f700"},this.props.price),"\u20ac ")),r.a.createElement(f.b,{className:"btn orange",to:this.props.link},"Start")),r.a.createElement("div",{className:"half-container selector-right"},r.a.createElement("div",{className:"selector-right-container"},r.a.createElement("img",{src:this.props.clothImage,alt:"tShirt"}))))))}}]),t}(n.Component)),F=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{link:"/t-shirt/designer",cloth:"t-shirt",clothText:"T-shirt made in sustainable fabrics, cotton 100%, that create awareness of the need to protect our planet.",price:"30",clothImage:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557998622/Cloding/wear/tShirtDesigner_mrnlmr.png"}),r.a.createElement(w,{link:"/sweatshirt/designer",cloth:"sweatshirt",clothText:"Sweatshirt made in sustainable fabrics, cotton 100%, that create awareness of the need to protect our planet.",price:"40",clothImage:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1558001724/Cloding/wear/sudaderaDesigner_jxrnyb.png"}))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(l.a)({},a.state.user,Object(E.a)({},n,r))})},a.state={user:{username:"",mail:"",country:"",region:"",city:"",direction:"",photouser:""},redirect:!1,photouserTemp:""},a.service=new v,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{user:this.props.user}))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.user.username,n=this.state.user.mail,r=this.state.user.country,s=this.state.user.region,i=this.state.user.city,l=this.state.user.direction,o=this.state.user.photouser,c=this.state.user._id;this.service.editProfile(a,n,r,s,i,l,o,c).then(function(e){t.props.editDates(e)}).catch(function(e){return console.log(e)})}},{key:"checkUploadResult",value:function(e){this.setState(Object(l.a)({},this.state,{photouserTemp:e.info.secure_url})),"success"===e.event&&this.setState({user:Object(l.a)({},this.state.user,{photouser:e.info.secure_url})})}},{key:"showWidget",value:function(){var e=this;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(t,a){e.checkUploadResult(a)}).open()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container overflow padding"},r.a.createElement("h2",null,"Edit profile"),r.a.createElement("form",{className:"form-auth",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("div",{className:"input-edit-profile"},r.a.createElement(S,{labelCss:"dispay-none",placeholder:"username",inputCss:"input-auth",label:"Username",type:"text",name:"username",value:this.state.user.username,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"e-mail",inputCss:"input-auth",label:"Email",type:"email",name:"mail",value:this.state.user.mail,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"country",inputCss:"input-auth",label:"Country",type:"text",name:"country",value:this.state.user.country,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"region",inputCss:"input-auth",label:"Region",type:"text",name:"region",value:this.state.user.region,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"city",inputCss:"input-auth",label:"City",type:"text",name:"city",value:this.state.user.city,onchange:function(t){return e.handleChange(t)}}),r.a.createElement(S,{labelCss:"dispay-none",placeholder:"address",inputCss:"input-auth",label:"Address",type:"text",name:"direction",value:this.state.user.direction,onchange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container photo-profile-container"},r.a.createElement("div",{className:"profile-page-image"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(this.state.user.photouser,")")}}),r.a.createElement("button",{type:"button",name:"firstImage",onClick:function(){return e.showWidget()},className:"btn light-blue cursor"},"Change"))))))}}]),t}(n.Component),U=function e(){var t=this;Object(o.a)(this,e),this.saveDesign=function(e,a,n,r,s,i,l,o,c){return t.service.post("/save-design",{userId:e,type:a,price:n,designName:r,red:s,green:i,blue:l,front:o,back:c}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.allTShirt=function(e){return t.service.post("/all-tShirt",{userId:e}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.allOldOrders=function(e){return t.service.post("/all-old-orders",{userId:e}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.addQuanity=function(e,a){return t.service.post("/add-quantity",{quantity:e,designId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e.res.data)})},this.delete=function(e,a){return t.service.post("/delete-design",{id:e,userId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.uploadDesign=function(e){return t.service.get("/design/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.updateDesign=function(e,a,n,r,s,i,l){return t.service.post("/edit-design",{designId:e,designName:a,red:n,green:r,blue:s,front:i,back:l}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.addMoneyToPay=function(e,a){return t.service.post("/add-toPay",{designId:e,toPayOne:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.buy=function(e,a){return t.service.post("/buy",{userId:e,arrDesign:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.moveToCart=function(e,a){return t.service.post("/move-to-cart",{userId:e,oldOrderId:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=d.a.create({baseURL:"https://cloding-app.herokuapp.com/api",withCredentials:!0})},C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={active:!0,toPay:0},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{quantity:this.props.tShirt.quantity}))}},{key:"quantity",value:function(e){var t=this;e.preventDefault();var a=this.state.quantity,n=this.props.tShirt._id;this.service.addQuanity(a,n).then().catch(function(e){return console.log(e)});var r=a*("t-shirt"===this.props.tShirt.type?30:40);this.service.addMoneyToPay(n,r).then(function(){t.service.allTShirt(t.props.user._id).then(function(e){var a=e.tShirt.reduce(function(e,t){return e+t.price},0);t.props.totalAmounts(a)})}).catch(function(e){return console.log(e)})}},{key:"changeQuantiy",value:function(e){this.setState(Object(l.a)({},this.state,{quantity:e.target.value}))}},{key:"delete",value:function(e){var t=this;e.preventDefault(),this.service.delete(this.props.tShirt._id,this.props.user._id).then(function(){t.service.allTShirt(t.props.user._id).then(function(e){var a=e.tShirt.reduce(function(e,t){return e+t.price},0);t.props.totalAmounts(a)}),t.setState(Object(l.a)({},t.state,{active:!1}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.active?r.a.createElement("div",{className:"cart-product"},r.a.createElement("div",{className:"nameDesignList"},r.a.createElement("h4",null,"Name: ",r.a.createElement("span",{className:"f700"},this.props.tShirt.designName))),r.a.createElement("h5",{className:"cart-type"},"type: ",r.a.createElement("span",{className:"f700"},this.props.tShirt.type)),r.a.createElement("form",{className:"form-cart",onSubmit:function(t){return e.quantity(t)}},r.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name",label:"Quantity",type:"number",name:"quantity",value:this.state.quantity,onchange:function(t){return e.changeQuantiy(t)}}),r.a.createElement("input",{type:"submit",className:"btn-quatity orange cursor",value:"Add"})),r.a.createElement(f.b,{className:"btn-cart purple",to:"t-shirt"===this.props.tShirt.type?"/t-shirt/designer/".concat(this.props.tShirt._id):"/sweatshirt/designer/".concat(this.props.tShirt._id)},"Edit"),r.a.createElement("button",{className:"btn-cart red cursor",onClick:function(t){return e.delete(t)}},"Delete")):null)}}]),t}(n.Component),V=(a(94),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={tShirts:[],toPay:0},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.allTShirt(this.props.user._id).then(function(t){var a=t.tShirt,n=a.reduce(function(e,t){return e+t.price},0);e.setState(Object(l.a)({},e.state,{tShirts:a,toPay:n}))})}},{key:"totalAmounts",value:function(e){this.setState(Object(l.a)({},this.state,{toPay:e}))}},{key:"buy",value:function(e){var t=this;e.preventDefault(),this.service.buy(this.props.user._id,this.state.tShirts).then(function(){t.setState(Object(l.a)({},t.service,{tShirts:[],toPay:0}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.tShirts.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(C,{tShirt:t,user:e.props.user,totalAmounts:function(t){return e.totalAmounts(t)}}))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white cart-box padding-canvas"},r.a.createElement("div",{className:"cartContainer"},r.a.createElement("ul",null,t)),r.a.createElement("div",{className:"cart-toPay"},r.a.createElement("h4",null,"Total amount: ",r.a.createElement("span",{className:"f700"},this.state.toPay),"\u20ac"),r.a.createElement("button",{className:"btn orange cursor",onClick:function(t){return e.buy(t)}},"Buy")))))}}]),t}(n.Component)),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"moveToCart",value:function(e){e.preventDefault(),this.service.moveToCart(this.props.user._id,this.props.oldOrder._id).then().catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cart-product"},r.a.createElement("div",{className:"nameDesignList"},r.a.createElement("h4",null,"Name: ",r.a.createElement("span",{className:"f700"},this.props.oldOrder.designName))),r.a.createElement("h5",{className:"cart-type"},"type: ",r.a.createElement("span",{className:"f700"},this.props.oldOrder.type)),r.a.createElement("p",{className:"label-design-name"},"Quantity: ",r.a.createElement("span",{className:"f700"},this.props.oldOrder.quantity)),r.a.createElement("p",{className:"label-design-name"},"Price: ",r.a.createElement("span",{className:"f700"},this.props.oldOrder.price),"\u20ac"),r.a.createElement("button",{className:"btn-cart orange cursor",onClick:function(t){return e.moveToCart(t)}},"Cart")))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={oldOrders:[],payments:0},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.allOldOrders(this.props.user._id).then(function(t){var a=t.buy,n=a.reduce(function(e,t){return e+t.price},0);e.setState(Object(l.a)({},e.state,{oldOrders:a,payments:n}))})}},{key:"render",value:function(){var e=this,t=this.state.oldOrders.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(D,{oldOrder:t,user:e.props.user}))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white cart-box padding-canvas"},r.a.createElement("div",{className:"cartContainer"},r.a.createElement("ul",null,t)),r.a.createElement("div",{className:"cart-toPay"},r.a.createElement("h4",null,"Total orders: ",r.a.createElement("span",{className:"f700"},this.state.payments,"\u20ac"))))))}}]),t}(n.Component),X=a(56),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={colors:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)({},this.state,{colors:X}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.colors.map(function(t,a){var n=!1;return t.red===e.props.red&&t.green===e.props.green&&t.blue===e.props.blue&&(n=!0),r.a.createElement("div",{key:a,className:"color-cube cursor "+(n?"selected-color":null),style:{backgroundColor:"rgb(".concat(t.red,", ").concat(t.green,", ").concat(t.blue,")")},onClick:function(){return e.props.rgbValue(t.red,t.green,t.blue)}})}))}}]),t}(n.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"light-blue-2 controles-inside"},r.a.createElement("div",{className:"btn-control-text-box"},r.a.createElement("input",{className:"control-input",id:"text".concat(this.props.id),name:"text",placeholder:"Add a new text",type:"text",value:this.props.text,onChange:function(t){return e.props.textChange(t,e.props.side)}}),r.a.createElement("button",{id:"text".concat(this.props.id),type:"button",onClick:function(t){return e.props.deleteText(t,e.props.side)},className:"btn-control red cursor"},r.a.createElement("i",{className:"fas fa-trash"}))),r.a.createElement("div",{className:"range-control"},r.a.createElement("label",{htmlFor:"textFill".concat(this.props.id)},"Color:"),r.a.createElement("select",{id:"text".concat(this.props.id),name:"textFill",value:this.props.fillValue,onChange:function(t){return e.props.textChange(t,e.props.side)}},r.a.createElement("option",{value:"black"},"Black"),r.a.createElement("option",{value:"white"},"White"),r.a.createElement("option",{value:"red"},"Red"),r.a.createElement("option",{value:"green"},"Green"),r.a.createElement("option",{value:"blue"},"Blue"),r.a.createElement("option",{value:"yellow"},"Yellow"),r.a.createElement("option",{value:"purple"},"Purple")),r.a.createElement("label",{htmlFor:"textFamily".concat(this.props.id)},"Font-Family:"),r.a.createElement("select",{id:"text".concat(this.props.id),name:"textFamily",value:this.props.familyValue,onChange:function(t){return e.props.textChange(t,e.props.side)}},r.a.createElement("option",{value:"Oxygen"},"Oxygen"),r.a.createElement("option",{value:"Montserrat"},"Montserrat"),r.a.createElement("option",{value:"Poppins"},"Poppins"),r.a.createElement("option",{value:"Roboto"},"Roboto"),r.a.createElement("option",{value:"Rubik"},"Rubik")),r.a.createElement("label",{htmlFor:"textStyle".concat(this.props.id)},"Style:"),r.a.createElement("select",{id:"text".concat(this.props.id),name:"textStyle",value:this.props.styleValue,onChange:function(t){return e.props.textChange(t,e.props.side)}},r.a.createElement("option",{value:"normal"},"Normal"),r.a.createElement("option",{value:"bold"},"Bold"),r.a.createElement("option",{value:"italic"},"Italic")),r.a.createElement("label",{htmlFor:"textSize".concat(this.props.id)},"Size:"),r.a.createElement("input",{id:"text".concat(this.props.id),name:"textSize",className:"control-input right-align",type:"text",value:this.props.sizeValue,onChange:function(t){return e.props.textChange(t,e.props.side)}})),r.a.createElement("div",{className:"range-control-text-rotation"},r.a.createElement("label",{htmlFor:"textRotation".concat(this.props.id)},"Rotation:"),r.a.createElement("input",{id:"text".concat(this.props.id),name:"textRotation",type:"range",min:"0",max:"360",step:"1",value:this.props.rotationValue,onChange:function(t){return e.props.textChange(t,e.props.side)}}))))}}]),t}(n.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"light-blue-2 controles-inside"},r.a.createElement("div",{className:"btn-control-box"},r.a.createElement("input",{id:this.props.id,className:"control-input",placeholder:"Upload an image",defaultValue:this.props.imageUrl}),r.a.createElement("button",{id:"image".concat(this.props.id),type:"button",name:this.props.name,onClick:function(t){return e.props.showWidget(t,e.props.side)},className:"btn-control purple cursor"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("button",{id:"image".concat(this.props.id),type:"button",onClick:function(t){return e.props.deleteImage(t,e.props.side)},className:"btn-control red cursor"},r.a.createElement("i",{className:"fas fa-trash"}))),r.a.createElement("div",{className:"range-control"},r.a.createElement("label",{htmlFor:"opacity"},"Opacity:"),r.a.createElement("input",{id:"image".concat(this.props.id),name:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:this.props.opacityValue,onChange:function(t){return e.props.effects(t,e.props.side)}}),r.a.createElement("label",{htmlFor:"hue"},"Hue:"),r.a.createElement("input",{id:"image".concat(this.props.id),name:"hue",type:"range",min:"0",max:"259",step:"1",value:this.props.hueValue,onChange:function(t){return e.props.effects(t,e.props.side)}}),r.a.createElement("label",{htmlFor:"saturation"},"Saturation:"),r.a.createElement("input",{id:"image".concat(this.props.id),name:"saturation",type:"range",min:"-2",max:"10",step:"0.5",value:this.props.saturationValue,onChange:function(t){return e.props.effects(t,e.props.side)}}),r.a.createElement("label",{htmlFor:"value"},"Value:"),r.a.createElement("input",{id:"image".concat(this.props.id),name:"value",type:"range",min:"-2",max:"2",step:"0.1",value:this.props.valueValue,onChange:function(t){return e.props.effects(t,e.props.side)}}))))}}]),t}(n.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"control-structure"},r.a.createElement("div",{className:"light-blue controles-box"},r.a.createElement("div",{className:"colors-table light-blue-2"},r.a.createElement(I,{red:this.props.red,green:this.props.green,blue:this.props.blue,rgbValue:function(t,a,n){return e.props.rgbValue(t,a,n)}}))),r.a.createElement("div",{className:"light-blue controles-grid"},r.a.createElement(R,{id:1,side:this.props.side,name:"firstImage",showWidget:function(t,a){return e.props.showWidget(t,a)},deleteImage:function(t,a){return e.props.deleteImage(t,a)},effects:function(t,a){return e.props.effects(t,a)},imageUrl:this.props.values.image1.imageUrlFix,opacityValue:this.props.values.image1.opacity,hueValue:this.props.values.image1.hue,saturationValue:this.props.values.image1.saturation,valueValue:this.props.values.image1.value}),r.a.createElement(R,{id:2,side:this.props.side,name:"secondImage",showWidget:function(t,a){return e.props.showWidget(t,a)},deleteImage:function(t,a){return e.props.deleteImage(t,a)},effects:function(t,a){return e.props.effects(t,a)},imageUrl:this.props.values.image2.imageUrlFix,opacityValue:this.props.values.image2.opacity,hueValue:this.props.values.image2.hue,saturationValue:this.props.values.image2.saturation,valueValue:this.props.values.image2.value}),r.a.createElement(R,{id:3,side:this.props.side,name:"thirdImage",showWidget:function(t,a){return e.props.showWidget(t,a)},deleteImage:function(t,a){return e.props.deleteImage(t,a)},effects:function(t,a){return e.props.effects(t,a)},imageUrl:this.props.values.image3.imageUrlFix,opacityValue:this.props.values.image3.opacity,hueValue:this.props.values.image3.hue,saturationValue:this.props.values.image3.saturation,valueValue:this.props.values.image3.value}),r.a.createElement(R,{id:4,side:this.props.side,name:"fourthImage",showWidget:function(t,a){return e.props.showWidget(t,a)},deleteImage:function(t,a){return e.props.deleteImage(t,a)},effects:function(t,a){return e.props.effects(t,a)},imageUrl:this.props.values.image4.imageUrlFix,opacityValue:this.props.values.image4.opacity,hueValue:this.props.values.image4.hue,saturationValue:this.props.values.image4.saturation,valueValue:this.props.values.image4.value})),r.a.createElement("div",{className:"light-blue controles-grid"},r.a.createElement(z,{id:1,side:this.props.side,text:this.props.values.text1.text,deleteText:function(t,a){return e.props.deleteText(t,a)},textChange:function(t,a){return e.props.text(t,a)},fillValue:this.props.values.text1.textFill,familyValue:this.props.values.text1.textFamily,sizeValue:this.props.values.text1.textSize,styleValue:this.props.values.text1.textStyle,rotationValue:this.props.values.text1.textRotation}),r.a.createElement(z,{id:2,side:this.props.side,text:this.props.values.text2.text,deleteText:function(t,a){return e.props.deleteText(t,a)},textChange:function(t,a){return e.props.text(t,a)},fillValue:this.props.values.text2.textFill,familyValue:this.props.values.text2.textFamily,sizeValue:this.props.values.text2.textSize,styleValue:this.props.values.text2.textStyle,rotationValue:this.props.values.text2.textRotation}),r.a.createElement(z,{id:3,side:this.props.side,text:this.props.values.text3.text,deleteText:function(t,a){return e.props.deleteText(t,a)},textChange:function(t,a){return e.props.text(t,a)},fillValue:this.props.values.text3.textFill,familyValue:this.props.values.text3.textFamily,sizeValue:this.props.values.text3.textSize,styleValue:this.props.values.text3.textStyle,rotationValue:this.props.values.text3.textRotation}),r.a.createElement(z,{id:4,side:this.props.side,text:this.props.values.text4.text,deleteText:function(t,a){return e.props.deleteText(t,a)},textChange:function(t,a){return e.props.text(t,a)},fillValue:this.props.values.text4.textFill,familyValue:this.props.values.text4.textFamily,sizeValue:this.props.values.text4.textSize,styleValue:this.props.values.text4.textStyle,rotationValue:this.props.values.text4.textRotation}))))}}]),t}(n.Component),W=a(15),_=a.n(W),B=a(12),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={image:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new window.Image;t.crossOrigin="Anonymous",t.src=this.props.shirt,t.onload=function(){e.setState({image:t},function(){e.myImage.cache(),e.myImage.getLayer().batchDraw()})}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.Image,{image:this.state.image,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,filters:[_.a.Filters.RGB],red:this.props.red,blue:this.props.blue,green:this.props.green,ref:function(t){e.myImage=t}}))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={image:null,width:100,height:100},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(){var e=this,t=new window.Image;t.crossOrigin="Anonymous",t.src=this.props.img,t.onload=function(){e.setState(Object(l.a)({},e.state,{image:t}),function(){e.myImage.cache(),e.myImage.getLayer().batchDraw()})}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.active?r.a.createElement(B.Image,{id:this.props.id,name:this.props.imgName,image:this.state.image,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,scaleX:this.props.scaleX,scaleY:this.props.scaleY,rotation:this.props.rotation,onDragEnd:function(t){return e.props.dragPosition(t,e.props.side)},opacity:parseFloat(this.props.opacity),hue:+this.props.hue,saturation:parseFloat(this.props.saturation),value:parseFloat(this.props.value),filters:[_.a.Filters.HSV],ref:function(t){e.myImage=t},onTransform:function(t){return e.props.transform(t,e.props.side)},draggable:!0}):null)}}]),t}(n.Component),L=(a(52),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleStageMouseDown=function(e){if(e.target!==e.target.getStage()){if(!("Transformer"===e.target.getParent().className)){var t=e.target.attrs.name;a.state.images.find(function(e){return e.imgName===t})?a.setState(Object(l.a)({},a.state,{selectedShapeName:t})):a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))}}else a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))},a.state={images:[{imgName:"image1"},{imgName:"image2"},{imgName:"image3"},{imgName:"image4"}],selectedShapeName:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.group;this.myGroup.clipFunc(function(t){t.lineTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.moveTo(e[4],e[5]),t.bezierCurveTo(e[6],e[7],e[8],e[9],e[10],e[11]),t.lineTo(e[12],e[13]),t.lineTo(e[14],e[15]),t.lineTo(e[16],e[17]),t.lineTo(e[18],e[19]),t.lineTo(e[20],e[21]),t.lineTo(e[22],e[23]),t.lineTo(e[24],e[25]),t.lineTo(e[26],e[27]),t.lineTo(e[28],e[29]),t.lineTo(e[30],e[31]),t.lineTo(e[32],e[33]),t.lineTo(e[34],e[35]),t.lineTo(e[36],e[37]),t.lineTo(e[38],e[39]),t.lineTo(e[40],e[41]),t.lineTo(e[42],e[43]),t.lineTo(e[44],e[45]),t.lineTo(e[46],e[47]),t.lineTo(e[48],e[49]),t.lineTo(e[50],e[51]),t.lineTo(e[52],e[53]),t.lineTo(e[54],e[55]),t.lineTo(e[56],e[57]),t.lineTo(e[58],e[59]),t.lineTo(e[60],e[61])})}},{key:"componentDidUpdate",value:function(){var e=this.transformer.getStage(),t=this.state.selectedShapeName,a=e.findOne("."+t);a!==this.transformer.node()&&(a?this.transformer.attachTo(a):this.transformer.detach(),this.transformer.getLayer().batchDraw())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.Stage,{width:480,height:480,onMouseDown:function(t){return e.handleStageMouseDown(t)}},r.a.createElement(B.Layer,null,r.a.createElement(H,{x:30,y:35,width:426,height:430,shirt:this.props.shirt,filters:[_.a.Filters.RGB],blue:this.props.blue,red:this.props.red,green:this.props.green})),r.a.createElement(B.Layer,null,r.a.createElement(B.Group,{ref:function(t){return e.myGroup=t}},r.a.createElement(G,{side:this.props.side,active:this.props.values.image1.active,imgName:this.state.images[0].imgName,img:this.props.values.image1.imageUrl,x:this.props.values.image1.x,y:this.props.values.image1.y,scaleX:this.props.values.image1.scaleX,scaleY:this.props.values.image1.scaleY,rotation:this.props.values.image1.rotation,opacity:this.props.values.image1.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image1.hue,saturation:this.props.values.image1.saturation,value:this.props.values.image1.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(G,{side:this.props.side,active:this.props.values.image2.active,imgName:this.state.images[1].imgName,img:this.props.values.image2.imageUrl,x:this.props.values.image2.x,y:this.props.values.image2.y,scaleX:this.props.values.image2.scaleX,scaleY:this.props.values.image2.scaleY,rotation:this.props.values.image2.rotation,opacity:this.props.values.image2.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image2.hue,saturation:this.props.values.image2.saturation,value:this.props.values.image2.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(G,{side:this.props.side,active:this.props.values.image3.active,imgName:this.state.images[2].imgName,img:this.props.values.image3.imageUrl,x:this.props.values.image3.x,y:this.props.values.image3.y,scaleX:this.props.values.image3.scaleX,scaleY:this.props.values.image3.scaleY,rotation:this.props.values.image3.rotation,opacity:this.props.values.image3.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image3.hue,saturation:this.props.values.image3.saturation,value:this.props.values.image3.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(G,{side:this.props.side,active:this.props.values.image4.active,imgName:this.state.images[3].imgName,img:this.props.values.image4.imageUrl,x:this.props.values.image4.x,y:this.props.values.image4.y,scaleX:this.props.values.image4.scaleX,scaleY:this.props.values.image4.scaleY,rotation:this.props.values.image4.rotation,opacity:this.props.values.image4.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image4.hue,saturation:this.props.values.image4.saturation,value:this.props.values.image4.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(B.Text,{id:"text1",x:+this.props.values.text1.textX,y:+this.props.values.text1.textY,fontSize:+this.props.values.text1.textSize,fontFamily:this.props.values.text1.textFamily,fill:this.props.values.text1.textFill,allign:"center",fontStyle:this.props.values.text1.textStyle,text:this.props.values.text1.text,draggable:!0,rotation:+this.props.values.text1.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Text,{id:"text2",x:+this.props.values.text2.textX,y:+this.props.values.text2.textY,fontSize:+this.props.values.text2.textSize,fontFamily:this.props.values.text2.textFamily,fill:this.props.values.text2.textFill,allign:"center",fontStyle:this.props.values.text2.textStyle,text:this.props.values.text2.text,draggable:!0,rotation:+this.props.values.text2.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Text,{id:"text3",x:+this.props.values.text3.textX,y:+this.props.values.text3.textY,fontSize:+this.props.values.text3.textSize,fontFamily:this.props.values.text3.textFamily,fill:this.props.values.text3.textFill,allign:"center",fontStyle:this.props.values.text3.textStyle,text:this.props.values.text3.text,draggable:!0,rotation:+this.props.values.text3.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Text,{id:"text4",x:+this.props.values.text4.textX,y:+this.props.values.text4.textY,fontSize:+this.props.values.text4.textSize,fontFamily:this.props.values.text4.textFamily,fill:this.props.values.text4.textFill,allign:"center",fontStyle:this.props.values.text4.textStyle,text:this.props.values.text4.text,draggable:!0,rotation:+this.props.values.text4.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Transformer,{ref:function(t){return e.transformer=t}})))))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).saveDesign=function(e){e.preventDefault();var t=a.props.user._id,n=a.state.designName,r=a.state.red,s=a.state.green,i=a.state.blue,l=a.state.front,o=a.state.back;a.service.saveDesign(t,"t-shirt",30,n,r,s,i,l,o).then(function(){a.props.history.push("/cart")}).catch(function(e){return console.log(e)})},a.state={designName:"Design name",layer:!1,shirtFront:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557582263/Cloding/wear/t-shirt_gdawk3.png",shirtBack:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1559644869/Cloding/wear/tShirtBack_nh2lpl.png",red:"255",blue:"255",green:"255",tFrontGroup:[114,80,179,55,179,55,179,100,309,100,309,54,371,75,384,84,409,120,444,181,441,188,427,201,391,222,372,230,355,206,358,440,356,442,301,445,180,445,127,440,129,403,130,392,128,209,114,233,90,223,53,199,44,191,42,184,95,95,104,86,114,80],tBackGroup:[114,80,187,54,187,54,187,35,297,35,297,54,371,75,384,84,409,120,445,187,441,193,429,206,393,228,372,236,356,212,358,440,356,442,301,445,148,445,127,440,129,403,130,392,128,209,114,233,90,223,53,199,44,191,42,184,95,95,104,86,114,80],front:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150}},back:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"}}},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"changeLayer",value:function(){this.setState(Object(l.a)({},this.state,{layer:!this.state.layer}))}},{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e,t,a){this.setState(Object(l.a)({},this.state,{red:e,green:t,blue:a}))}},{key:"text",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.value,s=a.name,i=Object.assign({},this.state[t]);i[n][s]=r,this.setState({newValue:i})}},{key:"deleteText",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].text="",n[a].textFill="black",n[a].textFamily="Oxygen",n[a].textSize=20,n[a].textStyle="normal",n[a].textRotation=0,n[a].textX=190,n[a].textY=150,this.setState({newValue:n})}},{key:"effects",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.name,s=a.value,i=Object.assign({},this.state[t]);i[n][r]=s,this.setState({newValue:i})}},{key:"checkUploadResult",value:function(e,t,a){var n=Object.assign({},this.state[a]);n[t].imageUrl=e.info.secure_url,n[t].active=!0,this.setState({newValue:n}),"success"===e.event&&(n[t].imageUrlFix=e.info.secure_url,this.setState({newValue:n}))}},{key:"showWidget",value:function(e,t){var a=this,n=e.currentTarget.id;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(e,r){a.checkUploadResult(r,n,t)}).open()}},{key:"deleteImage",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].imageUrlFix="",n[a].active=!1,n[a].x=190,n[a].y=150,n[a].scaleX=1,n[a].scaleY=1,n[a].opacity=1,n[a].hue=0,n[a].saturation=0,n[a].value=0,n[a].rotation=0,this.setState({newValue:n})}},{key:"handleDragEnd",value:function(e,t){var a=e.target.attrs.name,n=Object.assign({},this.state[t]);n[a].x=e.target.x(),n[a].y=e.target.y(),this.setState({newValue:n})}},{key:"handleTransform",value:function(e,t){var a=e.currentTarget.attrs.name,n=Object.assign({},this.state[t]);n[a].scaleX=e.currentTarget.attrs.scaleX,n[a].scaleY=e.currentTarget.attrs.scaleY,n[a].rotation=e.currentTarget.attrs.rotation,this.setState({newValue:n})}},{key:"handleDragEndText",value:function(e,t){var a=e.target.attrs.id,n=Object.assign({},this.state[t]);n[a].textX=e.target.attrs.x,n[a].textY=e.target.attrs.y,this.setState({newValue:n})}},{key:"render",value:function(){var e=this;return this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding-canvas"},r.a.createElement("div",{className:"canvas-title"},r.a.createElement("h2",null,this.state.designName),r.a.createElement("button",{type:"button",className:"btn light-blue cursor",onClick:function(){return e.changeLayer()}},this.state.layer?"Front":"Back")),r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"front",values:this.state.front,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"back",values:this.state.back,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("form",{className:"form-save-design",onSubmit:this.saveDesign},r.a.createElement("div",{className:"form-inside-design"},r.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name-canvas",label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(L,{group:this.state.tFrontGroup,shirt:this.state.shirtFront,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.front,side:"front",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(L,{group:this.state.tBackGroup,shirt:this.state.shirtBack,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.back,side:"back",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding-canvas"},r.a.createElement("div",{className:"canvas-title"},r.a.createElement("h2",null,"T-shirt designer"),r.a.createElement("button",{type:"button",className:"btn light-blue cursor",onClick:function(){return e.changeLayer()}},this.state.layer?"Front":"Back")),r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"front",values:this.state.front,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"back",values:this.state.back,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"demo-advisor"},r.a.createElement("h5",null,"This is a demo version, for buy your creation you must be logged in."))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(L,{group:this.state.tFrontGroup,shirt:this.state.shirtFront,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.front,side:"front",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(L,{group:this.state.tBackGroup,shirt:this.state.shirtBack,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.back,side:"back",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}}))))))}}]),t}(n.Component),q=Object(p.f)(M),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).updateDesign=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state.designName,r=a.state.red,s=a.state.green,i=a.state.blue,l=a.state.front,o=a.state.back;a.service.updateDesign(t,n,r,s,i,l,o).then().catch(function(e){return console.log(e)})},a.state={design:{},designName:"",layer:!1,shirtFront:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1557582263/Cloding/wear/t-shirt_gdawk3.png",shirtBack:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1559644869/Cloding/wear/tShirtBack_nh2lpl.png",red:"255",blue:"255",green:"255",tFrontGroup:[114,80,179,55,179,55,179,100,309,100,309,54,371,75,384,84,409,120,444,181,441,188,427,201,391,222,372,230,355,206,358,440,356,442,301,445,180,445,127,440,129,403,130,392,128,209,114,233,90,223,53,199,44,191,42,184,95,95,104,86,114,80],tBackGroup:[114,80,187,54,187,54,187,35,297,35,297,54,371,75,384,84,409,120,445,187,441,193,429,206,393,228,372,236,356,212,358,440,356,442,301,445,148,445,127,440,129,403,130,392,128,209,114,233,90,223,53,199,44,191,42,184,95,95,104,86,114,80],front:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:150}},back:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:150,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:"190",textY:"150"}}},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.uploadDesign(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(l.a)({},e.state,{design:a}),function(){e.setState(Object(l.a)({},e.state,{designName:e.state.design.designName,red:e.state.design.red,blue:e.state.design.blue,green:e.state.design.green,front:e.state.design.front,back:e.state.design.back}),function(){e.forceUpdate();var t=Object.assign({},e.state.front);t.image1.imageUrl="",t.image2.imageUrl="",t.image3.imageUrl="",t.image4.imageUrl="";var a=Object.assign({},e.state.back);a.image1.imageUrl="",a.image2.imageUrl="",a.image3.imageUrl="",a.image4.imageUrl="",e.setState({front:t,back:a})})})})}},{key:"changeLayer",value:function(){this.setState(Object(l.a)({},this.state,{layer:!this.state.layer}))}},{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e,t,a){this.setState(Object(l.a)({},this.state,{red:e,green:t,blue:a}))}},{key:"text",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.value,s=a.name,i=Object.assign({},this.state[t]);i[n][s]=r,this.setState({newValue:i})}},{key:"deleteText",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].text="",n[a].textFill="black",n[a].textFamily="Oxygen",n[a].textSize=20,n[a].textStyle="normal",n[a].textRotation=0,n[a].textX=190,n[a].textY=150,this.setState({newValue:n})}},{key:"effects",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.name,s=a.value,i=Object.assign({},this.state[t]);i[n][r]=s,this.setState({newValue:i})}},{key:"checkUploadResult",value:function(e,t,a){var n=Object.assign({},this.state[a]);n[t].imageUrl=e.info.secure_url,n[t].active=!0,this.setState({newValue:n}),"success"===e.event&&(n[t].imageUrlFix=e.info.secure_url,this.setState({newValue:n}))}},{key:"showWidget",value:function(e,t){var a=this,n=e.currentTarget.id;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(e,r){a.checkUploadResult(r,n,t)}).open()}},{key:"deleteImage",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].imageUrlFix="",n[a].active=!1,n[a].x=190,n[a].y=150,n[a].scaleX=1,n[a].scaleY=1,n[a].opacity=1,n[a].hue=0,n[a].saturation=0,n[a].value=0,n[a].rotation=0,this.setState({newValue:n})}},{key:"handleDragEnd",value:function(e,t){var a=e.target.attrs.name,n=Object.assign({},this.state[t]);n[a].x=e.target.x(),n[a].y=e.target.y(),this.setState({newValue:n})}},{key:"handleTransform",value:function(e,t){var a=e.currentTarget.attrs.name,n=Object.assign({},this.state[t]);n[a].scaleX=e.currentTarget.attrs.scaleX,n[a].scaleY=e.currentTarget.attrs.scaleY,n[a].rotation=e.currentTarget.attrs.rotation,this.setState({newValue:n})}},{key:"handleDragEndText",value:function(e,t){var a=e.target.attrs.id,n=Object.assign({},this.state[t]);n[a].textX=e.target.attrs.x,n[a].textY=e.target.attrs.y,this.setState({newValue:n})}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding-canvas"},r.a.createElement("div",{className:"canvas-title"},r.a.createElement("h2",null,this.state.designName),r.a.createElement("button",{type:"button",className:"btn light-blue cursor",onClick:function(){return e.changeLayer()}},this.state.layer?"Front":"Back")),r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"front",values:this.state.front,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"back",values:this.state.back,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("form",{className:"form-save-design",onSubmit:this.updateDesign},r.a.createElement("div",{className:"form-inside-design"},r.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name-canvas",label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(L,{group:this.state.tFrontGroup,shirt:this.state.shirtFront,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.front,side:"front",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(L,{group:this.state.tBackGroup,shirt:this.state.shirtBack,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.back,side:"back",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}}))))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleStageMouseDown=function(e){if(e.target!==e.target.getStage()){if(!("Transformer"===e.target.getParent().className)){var t=e.target.attrs.name;a.state.images.find(function(e){return e.imgName===t})?a.setState(Object(l.a)({},a.state,{selectedShapeName:t})):a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))}}else a.setState(Object(l.a)({},a.state,{selectedShapeName:""}))},a.state={images:[{imgName:"image1"},{imgName:"image2"},{imgName:"image3"},{imgName:"image4"}],selectedShapeName:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.group;this.myGroup.clipFunc(function(t){t.lineTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.lineTo(e[6],e[7]),t.lineTo(e[8],e[9]),t.lineTo(e[10],e[11]),t.lineTo(e[12],e[13]),t.lineTo(e[14],e[15]),t.lineTo(e[16],e[17]),t.lineTo(e[18],e[19]),t.lineTo(e[20],e[21]),t.lineTo(e[22],e[23]),t.lineTo(e[24],e[25]),t.lineTo(e[26],e[27]),t.lineTo(e[28],e[29]),t.lineTo(e[30],e[31]),t.lineTo(e[32],e[33]),t.lineTo(e[34],e[35]),t.lineTo(e[36],e[37]),t.lineTo(e[38],e[39]),t.lineTo(e[40],e[41]),t.lineTo(e[42],e[43]),t.lineTo(e[44],e[45]),t.lineTo(e[46],e[47]),t.lineTo(e[48],e[49]),t.lineTo(e[50],e[51]),t.lineTo(e[52],e[53]),t.lineTo(e[54],e[55]),t.lineTo(e[56],e[57]),t.lineTo(e[58],e[59]),t.lineTo(e[60],e[61]),t.lineTo(e[62],e[63]),t.lineTo(e[64],e[65]),t.lineTo(e[66],e[67]),t.lineTo(e[68],e[69]),t.lineTo(e[70],e[71]),t.lineTo(e[72],e[73]),t.lineTo(e[74],e[75]),t.lineTo(e[76],e[77]),t.lineTo(e[78],e[79]),t.lineTo(e[80],e[81]),t.lineTo(e[82],e[83]),t.lineTo(e[84],e[85]),t.lineTo(e[86],e[87]),t.lineTo(e[88],e[89]),t.lineTo(e[90],e[91]),t.lineTo(e[92],e[93]),t.lineTo(e[94],e[95]),t.lineTo(e[96],e[97]),t.lineTo(e[98],e[99]),t.lineTo(e[100],e[101]),t.lineTo(e[102],e[103]),t.lineTo(e[104],e[105]),t.lineTo(e[106],e[107]),t.lineTo(e[108],e[109]),t.lineTo(e[110],e[111]),t.lineTo(e[112],e[113]),t.lineTo(e[114],e[115]),t.lineTo(e[116],e[117]),t.lineTo(e[118],e[119]),t.lineTo(e[120],e[121]),t.lineTo(e[122],e[123]),t.lineTo(e[124],e[125]),t.lineTo(e[126],e[127]),t.lineTo(e[128],e[129]),t.lineTo(e[130],e[131]),t.lineTo(e[132],e[133]),t.lineTo(e[134],e[135]),t.lineTo(e[136],e[137]),t.lineTo(e[138],e[139]),t.lineTo(e[140],e[141]),t.lineTo(e[142],e[143]),t.lineTo(e[144],e[145]),t.lineTo(e[146],e[147]),t.lineTo(e[148],e[149]),t.lineTo(e[150],e[151])})}},{key:"componentDidUpdate",value:function(){var e=this.transformer.getStage(),t=this.state.selectedShapeName,a=e.findOne("."+t);a!==this.transformer.node()&&(a?this.transformer.attachTo(a):this.transformer.detach(),this.transformer.getLayer().batchDraw())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.Stage,{width:480,height:480,onMouseDown:function(t){return e.handleStageMouseDown(t)}},r.a.createElement(B.Layer,null,r.a.createElement(H,{x:103,y:35,width:274.5,height:430,shirt:this.props.shirt,filters:[_.a.Filters.RGB],blue:this.props.blue,red:this.props.red,green:this.props.green})),r.a.createElement(B.Layer,null,r.a.createElement(B.Group,{ref:function(t){return e.myGroup=t}},r.a.createElement(G,{side:this.props.side,active:this.props.values.image1.active,imgName:this.state.images[0].imgName,img:this.props.values.image1.imageUrl,x:this.props.values.image1.x,y:this.props.values.image1.y,scaleX:this.props.values.image1.scaleX,scaleY:this.props.values.image1.scaleY,rotation:this.props.values.image1.rotation,opacity:this.props.values.image1.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image1.hue,saturation:this.props.values.image1.saturation,value:this.props.values.image1.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(G,{side:this.props.side,active:this.props.values.image2.active,imgName:this.state.images[1].imgName,img:this.props.values.image2.imageUrl,x:this.props.values.image2.x,y:this.props.values.image2.y,scaleX:this.props.values.image2.scaleX,scaleY:this.props.values.image2.scaleY,rotation:this.props.values.image2.rotation,opacity:this.props.values.image2.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image2.hue,saturation:this.props.values.image2.saturation,value:this.props.values.image2.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(G,{side:this.props.side,active:this.props.values.image3.active,imgName:this.state.images[2].imgName,img:this.props.values.image3.imageUrl,x:this.props.values.image3.x,y:this.props.values.image3.y,scaleX:this.props.values.image3.scaleX,scaleY:this.props.values.image3.scaleY,rotation:this.props.values.image3.rotation,opacity:this.props.values.image3.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image3.hue,saturation:this.props.values.image3.saturation,value:this.props.values.image3.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(G,{side:this.props.side,active:this.props.values.image4.active,imgName:this.state.images[3].imgName,img:this.props.values.image4.imageUrl,x:this.props.values.image4.x,y:this.props.values.image4.y,scaleX:this.props.values.image4.scaleX,scaleY:this.props.values.image4.scaleY,rotation:this.props.values.image4.rotation,opacity:this.props.values.image4.opacity,filters:[_.a.Filters.HSV],hue:this.props.values.image4.hue,saturation:this.props.values.image4.saturation,value:this.props.values.image4.value,dragPosition:function(t,a){return e.props.dragPosition(t,a)},transform:function(t,a){return e.props.transform(t,a)}}),r.a.createElement(B.Text,{id:"text1",x:+this.props.values.text1.textX,y:+this.props.values.text1.textY,fontSize:+this.props.values.text1.textSize,fontFamily:this.props.values.text1.textFamily,fill:this.props.values.text1.textFill,allign:"center",fontStyle:this.props.values.text1.textStyle,text:this.props.values.text1.text,draggable:!0,rotation:+this.props.values.text1.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Text,{id:"text2",x:+this.props.values.text2.textX,y:+this.props.values.text2.textY,fontSize:+this.props.values.text2.textSize,fontFamily:this.props.values.text2.textFamily,fill:this.props.values.text2.textFill,allign:"center",fontStyle:this.props.values.text2.textStyle,text:this.props.values.text2.text,draggable:!0,rotation:+this.props.values.text2.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Text,{id:"text3",x:+this.props.values.text3.textX,y:+this.props.values.text3.textY,fontSize:+this.props.values.text3.textSize,fontFamily:this.props.values.text3.textFamily,fill:this.props.values.text3.textFill,allign:"center",fontStyle:this.props.values.text3.textStyle,text:this.props.values.text3.text,draggable:!0,rotation:+this.props.values.text3.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Text,{id:"text4",x:+this.props.values.text4.textX,y:+this.props.values.text4.textY,fontSize:+this.props.values.text4.textSize,fontFamily:this.props.values.text4.textFamily,fill:this.props.values.text4.textFill,allign:"center",fontStyle:this.props.values.text4.textStyle,text:this.props.values.text4.text,draggable:!0,rotation:+this.props.values.text4.textRotation,onDragEnd:function(t){return e.props.dragText(t,e.props.side)}}),r.a.createElement(B.Transformer,{ref:function(t){return e.transformer=t}})))))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).saveDesign=function(e){e.preventDefault();var t=a.props.user._id,n=a.state.designName,r=a.state.red,s=a.state.green,i=a.state.blue,l=a.state.front,o=a.state.back;a.service.saveDesign(t,"sweatshirt",40,n,r,s,i,l,o).then(function(){a.props.history.push("/cart")}).catch(function(e){return console.log(e)})},a.state={designName:"Design name",layer:!1,shirtFront:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1559726308/Cloding/wear/sweatShirtFront_nnziau.png",shirtBack:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1559726308/Cloding/wear/sweatShirtBack_lenqsp.png",red:"255",blue:"255",green:"255",tFrontGroup:[146,182,180,161,189,168,216,174,240,182,289,171,300,161,333,181,340,186,343,192,349,220,355,264,364,356,369,402,370,412,366,421,361,426,363,447,354,450,336,452,332,429,328,417,328,408,328,403,325,378,322,362,318,324,314,301,310,284,311,317,312,326,317,339,319,356,320,368,321,399,322,433,304,437,238,441,174,437,155,432,160,386,162,371,163,349,167,332,167,297,153,398,152,408,152,421,151,425,149,428,147,450,140,451,118,449,119,426,113,419,110,410,120,317,123,291,124,271,132,216,137,194,141,185,146,182],tBackGroup:[146,182,177,164,174,153,173,140,177,125,191,78,201,55,213,43,238,39,256,41,271,48,280,64,292,92,299,125,302,145,302,163,333,181,340,186,343,192,349,220,355,264,364,356,369,402,370,412,366,421,361,426,363,447,354,450,336,452,332,429,328,417,328,408,328,403,325,378,322,362,318,324,314,301,310,284,311,317,312,326,317,339,319,356,320,368,321,399,322,433,304,437,238,441,174,437,155,432,160,386,162,371,163,349,167,332,167,297,153,398,152,408,152,421,151,425,149,428,147,450,140,451,118,449,119,426,113,419,110,410,120,317,123,291,124,271,132,216,137,194,141,185,146,182],front:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220}},back:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220}}},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"changeLayer",value:function(){this.setState(Object(l.a)({},this.state,{layer:!this.state.layer}))}},{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e,t,a){this.setState(Object(l.a)({},this.state,{red:e,green:t,blue:a}))}},{key:"text",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.value,s=a.name,i=Object.assign({},this.state[t]);i[n][s]=r,this.setState({newValue:i})}},{key:"deleteText",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].text="",n[a].textFill="black",n[a].textFamily="Oxygen",n[a].textSize=20,n[a].textStyle="normal",n[a].textRotation=0,n[a].textX=190,n[a].textY=220,this.setState({newValue:n})}},{key:"effects",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.name,s=a.value,i=Object.assign({},this.state[t]);i[n][r]=s,this.setState({newValue:i})}},{key:"checkUploadResult",value:function(e,t,a){var n=Object.assign({},this.state[a]);n[t].imageUrl=e.info.secure_url,n[t].active=!0,this.setState({newValue:n}),"success"===e.event&&(n[t].imageUrlFix=e.info.secure_url,this.setState({newValue:n}))}},{key:"showWidget",value:function(e,t){var a=this,n=e.currentTarget.id;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(e,r){a.checkUploadResult(r,n,t)}).open()}},{key:"deleteImage",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].imageUrlFix="",n[a].active=!1,n[a].x=190,n[a].y=200,n[a].scaleX=1,n[a].scaleY=1,n[a].opacity=1,n[a].hue=0,n[a].saturation=0,n[a].value=0,n[a].rotation=0,this.setState({newValue:n})}},{key:"handleDragEnd",value:function(e,t){var a=e.target.attrs.name,n=Object.assign({},this.state[t]);n[a].x=e.target.x(),n[a].y=e.target.y(),this.setState({newValue:n})}},{key:"handleTransform",value:function(e,t){var a=e.currentTarget.attrs.name,n=Object.assign({},this.state[t]);n[a].scaleX=e.currentTarget.attrs.scaleX,n[a].scaleY=e.currentTarget.attrs.scaleY,n[a].rotation=e.currentTarget.attrs.rotation,this.setState({newValue:n})}},{key:"handleDragEndText",value:function(e,t){var a=e.target.attrs.id,n=Object.assign({},this.state[t]);n[a].textX=e.target.attrs.x,n[a].textY=e.target.attrs.y,this.setState({newValue:n})}},{key:"render",value:function(){var e=this;return this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding-canvas"},r.a.createElement("div",{className:"canvas-title"},r.a.createElement("h2",null,this.state.designName),r.a.createElement("button",{type:"button",className:"btn light-blue cursor",onClick:function(){return e.changeLayer()}},this.state.layer?"Front":"Back")),r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"front",values:this.state.front,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"back",values:this.state.back,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("form",{className:"form-save-design",onSubmit:this.saveDesign},r.a.createElement("div",{className:"form-inside-design"},r.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name-canvas",label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(Q,{group:this.state.tFrontGroup,shirt:this.state.shirtFront,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.front,side:"front",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(Q,{group:this.state.tBackGroup,shirt:this.state.shirtBack,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.back,side:"back",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding-canvas"},r.a.createElement("div",{className:"canvas-title"},r.a.createElement("h2",null,"T-shirt designer"),r.a.createElement("button",{type:"button",className:"btn light-blue cursor",onClick:function(){return e.changeLayer()}},this.state.layer?"Front":"Back")),r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"front",values:this.state.front,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"back",values:this.state.back,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"demo-advisor"},r.a.createElement("h5",null,"This is a demo version, for buy your creation you must be logged in."))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(Q,{group:this.state.tFrontGroup,shirt:this.state.shirtFront,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.front,side:"front",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(Q,{group:this.state.tBackGroup,shirt:this.state.shirtBack,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.back,side:"back",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}}))))))}}]),t}(n.Component),K=Object(p.f)(J),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).updateDesign=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state.designName,r=a.state.red,s=a.state.green,i=a.state.blue,l=a.state.front,o=a.state.back;a.service.updateDesign(t,n,r,s,i,l,o).then().catch(function(e){return console.log(e)})},a.state={design:{},designName:"",layer:!1,shirtFront:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1559726308/Cloding/wear/sweatShirtFront_nnziau.png",shirtBack:"https://res.cloudinary.com/dgp1wgz95/image/upload/v1559726308/Cloding/wear/sweatShirtBack_lenqsp.png",red:"255",blue:"255",green:"255",tFrontGroup:[146,182,180,161,189,168,216,174,240,182,289,171,300,161,333,181,340,186,343,192,349,220,355,264,364,356,369,402,370,412,366,421,361,426,363,447,354,450,336,452,332,429,328,417,328,408,328,403,325,378,322,362,318,324,314,301,310,284,311,317,312,326,317,339,319,356,320,368,321,399,322,433,304,437,238,441,174,437,155,432,160,386,162,371,163,349,167,332,167,297,153,398,152,408,152,421,151,425,149,428,147,450,140,451,118,449,119,426,113,419,110,410,120,317,123,291,124,271,132,216,137,194,141,185,146,182],tBackGroup:[146,182,177,164,174,153,173,140,177,125,191,78,201,55,213,43,238,39,256,41,271,48,280,64,292,92,299,125,302,145,302,163,333,181,340,186,343,192,349,220,355,264,364,356,369,402,370,412,366,421,361,426,363,447,354,450,336,452,332,429,328,417,328,408,328,403,325,378,322,362,318,324,314,301,310,284,311,317,312,326,317,339,319,356,320,368,321,399,322,433,304,437,238,441,174,437,155,432,160,386,162,371,163,349,167,332,167,297,153,398,152,408,152,421,151,425,149,428,147,450,140,451,118,449,119,426,113,419,110,410,120,317,123,291,124,271,132,216,137,194,141,185,146,182],front:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:20,textStyle:"normal",textRotation:0,textX:190,textY:220}},back:{image1:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image2:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image3:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},image4:{imageUrl:"",imageUrlFix:"",active:!1,x:190,y:200,opacity:1,scaleX:1,scaleY:1,rotation:0,hue:0,saturation:0,value:0},text1:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220},text2:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220},text3:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220},text4:{text:"",textFill:"black",textFamily:"Oxygen",textSize:"20",textStyle:"normal",textRotation:0,textX:190,textY:220}}},a.service=new U,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.uploadDesign(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(l.a)({},e.state,{design:a}),function(){e.setState(Object(l.a)({},e.state,{designName:e.state.design.designName,red:e.state.design.red,blue:e.state.design.blue,green:e.state.design.green,front:e.state.design.front,back:e.state.design.back}),function(){e.forceUpdate();var t=Object.assign({},e.state.front);t.image1.imageUrl="",t.image2.imageUrl="",t.image3.imageUrl="",t.image4.imageUrl="";var a=Object.assign({},e.state.back);a.image1.imageUrl="",a.image2.imageUrl="",a.image3.imageUrl="",a.image4.imageUrl="",e.setState({front:t,back:a})})})})}},{key:"changeLayer",value:function(){this.setState(Object(l.a)({},this.state,{layer:!this.state.layer}))}},{key:"handleChangeDesignName",value:function(e){this.setState(Object(l.a)({},this.state,{designName:e.target.value}))}},{key:"rgbValue",value:function(e,t,a){this.setState(Object(l.a)({},this.state,{red:e,green:t,blue:a}))}},{key:"text",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.value,s=a.name,i=Object.assign({},this.state[t]);i[n][s]=r,this.setState({newValue:i})}},{key:"deleteText",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].text="",n[a].textFill="black",n[a].textFamily="Oxygen",n[a].textSize=20,n[a].textStyle="normal",n[a].textRotation=0,n[a].textX=190,n[a].textY=220,this.setState({newValue:n})}},{key:"effects",value:function(e,t){var a=e.currentTarget,n=a.id,r=a.name,s=a.value,i=Object.assign({},this.state[t]);i[n][r]=s,this.setState({newValue:i})}},{key:"checkUploadResult",value:function(e,t,a){var n=Object.assign({},this.state[a]);n[t].imageUrl=e.info.secure_url,n[t].active=!0,this.setState({newValue:n}),"success"===e.event&&(n[t].imageUrlFix=e.info.secure_url,this.setState({newValue:n}))}},{key:"showWidget",value:function(e,t){var a=this,n=e.currentTarget.id;window.cloudinary.createUploadWidget({cloudName:"dgp1wgz95",uploadPreset:"cloding-preset"},function(e,r){a.checkUploadResult(r,n,t)}).open()}},{key:"deleteImage",value:function(e,t){var a=e.currentTarget.id,n=Object.assign({},this.state[t]);n[a].imageUrlFix="",n[a].active=!1,n[a].x=190,n[a].y=200,n[a].scaleX=1,n[a].scaleY=1,n[a].opacity=1,n[a].hue=0,n[a].saturation=0,n[a].value=0,n[a].rotation=0,this.setState({newValue:n})}},{key:"handleDragEnd",value:function(e,t){var a=e.target.attrs.name,n=Object.assign({},this.state[t]);n[a].x=e.target.x(),n[a].y=e.target.y(),this.setState({newValue:n})}},{key:"handleTransform",value:function(e,t){var a=e.currentTarget.attrs.name,n=Object.assign({},this.state[t]);n[a].scaleX=e.currentTarget.attrs.scaleX,n[a].scaleY=e.currentTarget.attrs.scaleY,n[a].rotation=e.currentTarget.attrs.rotation,this.setState({newValue:n})}},{key:"handleDragEndText",value:function(e,t){var a=e.target.attrs.id,n=Object.assign({},this.state[t]);n[a].textX=e.target.attrs.x,n[a].textY=e.target.attrs.y,this.setState({newValue:n})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageStructure"},r.a.createElement("div",{className:"container white"},r.a.createElement("div",{className:"half-container padding-canvas"},r.a.createElement("div",{className:"canvas-title"},r.a.createElement("h2",null,this.state.designName),r.a.createElement("button",{type:"button",className:"btn light-blue cursor",onClick:function(){return e.changeLayer()}},this.state.layer?"Front":"Back")),r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"front",values:this.state.front,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(P,{red:this.state.red,green:this.state.green,blue:this.state.blue,side:"back",values:this.state.back,rgbValue:function(t,a,n){return e.rgbValue(t,a,n)},showWidget:function(t,a){return e.showWidget(t,a)},deleteImage:function(t,a){return e.deleteImage(t,a)},deleteText:function(t,a){return e.deleteText(t,a)},text:function(t,a){return e.text(t,a)},effects:function(t,a){return e.effects(t,a)}})),r.a.createElement("form",{className:"form-save-design",onSubmit:this.updateDesign},r.a.createElement("div",{className:"form-inside-design"},r.a.createElement(S,{labelCss:"label-design-name",inputCss:"input-design-name-canvas",label:"Design name",type:"text",name:"designName",value:this.state.designName,onchange:function(t){return e.handleChangeDesignName(t)}})),r.a.createElement("input",{type:"submit",className:"btn orange cursor",value:"Save"}))),r.a.createElement("div",{className:"half-container"},r.a.createElement("div",{className:"".concat(this.state.layer?"layerHidden":"layerShow")},r.a.createElement(Q,{group:this.state.tFrontGroup,shirt:this.state.shirtFront,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.front,side:"front",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}})),r.a.createElement("div",{className:"".concat(this.state.layer?"layerShow":"layerHidden")},r.a.createElement(Q,{group:this.state.tBackGroup,shirt:this.state.shirtBack,blue:this.state.blue,red:this.state.red,green:this.state.green,values:this.state.back,side:"back",dragPosition:function(t,a){return e.handleDragEnd(t,a)},transform:function(t,a){return e.handleTransform(t,a)},dragText:function(t,a){return e.handleDragEndText(t,a)}}))))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).fetchUser=function(){a.service.loggedin().then(function(e){console.log(e),a.setState({loggedInUser:e})}).catch(function(e){return a.setState({loggedInUser:!1})})},a.setTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new v,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logoutUser",value:function(){this.setState(Object(l.a)({},this.state,{loggedInUser:null}))}},{key:"editUser",value:function(e){this.setState(Object(l.a)({},this.state,{loggedInUser:e}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{user:this.state.loggedInUser,logout:function(){return e.logoutUser()}}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:x}),r.a.createElement(p.b,{exact:!0,path:"/designer",component:F}),r.a.createElement(p.b,{exact:!0,path:"/t-shirt/designer",render:function(t){return r.a.createElement(q,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/t-shirt/designer/:id",render:function(t){return r.a.createElement(A,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/sweatshirt/designer",render:function(t){return r.a.createElement(K,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/sweatshirt/designer/:id",render:function(t){return r.a.createElement(Z,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/profile/",render:function(t){return r.a.createElement(b,Object.assign({},t,{logout:function(){return e.logoutUser()},user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/profile/edit",render:function(t){return r.a.createElement(j,Object.assign({},t,{user:e.state.loggedInUser,editDates:function(t){return e.editUser(t)}}))}}),r.a.createElement(p.b,{exact:!0,path:"/cart",render:function(t){return r.a.createElement(V,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/old-orders",render:function(t){return r.a.createElement(Y,Object.assign({},t,{user:e.state.loggedInUser}))}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{user:this.state.loggedInUser}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:x}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(O,Object.assign({},t,{setUser:e.setTheUser,userInSession:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(N,Object.assign({},t,{setUser:e.setTheUser,userInSession:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/designer",component:F}),r.a.createElement(p.b,{exact:!0,path:"/t-shirt/designer",render:function(t){return r.a.createElement(q,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/sweatshirt/designer",render:function(t){return r.a.createElement(K,Object.assign({},t,{user:e.state.loggedInUser}))}})))}}]),t}(n.Component);i.a.render(r.a.createElement(f.a,null,r.a.createElement($,null)),document.getElementById("root"))},44:function(e,t,a){},52:function(e,t,a){},56:function(e){e.exports=[{red:255,green:255,blue:255},{red:0,green:0,blue:0},{red:255,green:0,blue:0},{red:0,green:255,blue:0},{red:0,green:0,blue:255},{red:255,green:255,blue:0},{red:0,green:255,blue:255},{red:255,green:123,blue:172},{red:255,green:0,blue:255},{red:193,green:39,blue:45},{red:237,green:28,blue:36},{red:241,green:90,blue:36},{red:247,green:147,blue:30},{red:251,green:176,blue:59},{red:252,green:238,blue:33},{red:217,green:224,blue:33},{red:140,green:198,blue:63},{red:57,green:181,blue:74},{red:0,green:146,blue:69},{red:0,green:104,blue:55},{red:34,green:181,blue:115},{red:0,green:169,blue:157},{red:41,green:171,blue:226},{red:0,green:113,blue:188},{red:46,green:49,blue:146},{red:27,green:20,blue:100},{red:102,green:45,blue:145},{red:147,green:39,blue:143},{red:158,green:0,blue:93},{red:212,green:20,blue:90},{red:237,green:30,blue:121},{red:199,green:178,blue:153},{red:153,green:134,blue:117},{red:115,green:99,blue:87},{red:83,green:71,blue:65},{red:198,green:156,blue:109},{red:166,green:124,blue:82},{red:140,green:98,blue:57},{red:117,green:76,blue:36},{red:96,green:56,blue:19},{red:188,green:203,blue:202},{red:194,green:221,blue:230},{red:230,green:233,blue:240},{red:67,green:28,blue:93},{red:224,green:89,blue:21},{red:205,green:212,blue:34}]},57:function(e,t,a){e.exports=a(139)},61:function(e,t,a){},62:function(e,t,a){},82:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.99dcc332.chunk.js.map